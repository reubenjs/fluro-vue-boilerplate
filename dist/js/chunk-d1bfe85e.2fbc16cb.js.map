{"version":3,"sources":["webpack:///./node_modules/string-similarity/compare-strings.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///src/components/FilterConditionGroup.vue","webpack:///./src/components/table/Table.vue?25f4","webpack:///./src/components/table/Table.vue?4440","webpack:///./src/components/table/Table.vue","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///src/components/FilterConditionRow.vue","webpack:///./src/components/table/TableRowCheckbox.vue?b990","webpack:///src/components/table/TableRowCheckbox.vue","webpack:///./src/components/table/TableRowCheckbox.vue?e31f","webpack:///./src/components/table/TableRowCheckbox.vue","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///src/components/table/TableCell.vue","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./src/components/table/TableHeaderCheckbox.vue?c733","webpack:///src/components/table/TableHeaderCheckbox.vue","webpack:///./src/components/table/TableHeaderCheckbox.vue?b66e","webpack:///./src/components/table/TableHeaderCheckbox.vue","webpack:///./src/components/table/TableHeaderCheckbox.vue?813c","webpack:///./src/components/table/TableCell.vue?ab55","webpack:///./src/components/table/TableCell.vue?1888","webpack:///./src/components/table/TableCell.vue","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./src/components/table/Table.vue?5430","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./src/components/FilterConditionRow.vue?bdac","webpack:///./src/components/FilterConditionRow.vue?9e72","webpack:///./src/components/FilterConditionRow.vue","webpack:///src/components/table/Table.vue","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/es6.string.ends-with.js","webpack:///./src/components/FilterConditionRow.vue?bf1f","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./src/components/table/TableRowCheckbox.vue?fbe3","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./src/modules/FilterService.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./src/components/FilterConditionGroup.vue?0b74","webpack:///./src/components/FilterConditionGroup.vue?8abc","webpack:///./src/components/FilterConditionGroup.vue","webpack:///./src/components/FilterConditionGroup.vue?4a64","webpack:///./node_modules/core-js/modules/_string-ws.js"],"names":["compareTwoStrings","first","second","replace","length","firstBigrams","Map","i","bigram","substr","count","has","get","set","intersectionSize","findBestMatch","mainString","targetStrings","areArgsValid","Error","ratings","bestMatchIndex","currentTargetString","currentRating","push","target","rating","bestMatch","Array","isArray","find","s","module","exports","pIE","__webpack_require__","createDesc","toIObject","toPrimitive","IE8_DOM_DEFINE","gOPD","Object","getOwnPropertyDescriptor","f","O","P","e","call","indexIterator","DEFAULT_COMPARATOR","getFlattenedFields","array","trail","titles","_","chain","map","field","key","returnValue","fields","asObject","directive","title","slice","pop","maximum","flattenDeep","value","__webpack_exports__","props","type","String","default","mini","Boolean","rows","required","guid","this","$fluro","utils","operator","filters","debounce","Number","limit","beforeCreate","$options","components","FilterConditionRow","FilterConditionGroup","created","self","debounced","$emit","JSON","parse","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default","model","methods","operatingWord","group","addRule","comparator","addCondition","duplicateEntry","newEntry","splice","removeEntry","$delete","console","log","$set","retrieveKeys","availableKeys","loadingKeys","cacheKey","rowChangeString","valueStorageCache","cache","valueCache","subSetIDs","options","content","keys","then","res","err","data","clone","each","filter","operatorOptions","text","asyncComputed","definition","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default","a","resolve","reject","types","catch","computed","concat","details","detailSheet","flattened","mapped","join","definitionName","minimum","detail","compact","orderBy","watch","handler","deep","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","contain","_e","sorted","_t","_v","ref","class","loading","showLoading","offset-y","nativeOn","click","$event","stopPropagation","scopedSlots","_u","fn","on","_g","tag","all","allSelected","some","someSelected","tile","dense","selectPage","deselectPage","selectAll","_s","filteredTotal","$selection","selection","deselectAll","_l","column","shrink","sortable","isSortable","sorting","sort","sortKey","text-xs-center","align","text-xs-right","toggleSort","sortDirection","library","icon","small","preventDefault","toggleConfiguration","colspan","columns","item","_id","classes","clicked","checked","isSelected","checkboxClick","_pageIndex","row","$actions","open","wrap","totalPages","xs6","align-center","d-flex","_f","startOffset","endOffset","$vuetify","breakpoint","currentPage","disabled","previousPageDisabled","firstPage","previousPage","nextPageDisabled","nextPage","lastPage","staticRenderFns","table_Tablevue_type_script_lang_js_","Tablevue_type_script_lang_js_","component","componentNormalizer","installComponents_default","VBtn","VCard","VContainer","VFlex","VLayout","VList","VListTile","VListTileContent","components_VList","VListTileTitle","VMenu","fails","method","arg","$export","context","INCLUDES","F","includes","searchString","indexOf","arguments","undefined","retrieveValues","datePeriodOptions","week","now","Date","date1","date2","setTime","getTime","possibleValues","loadingValues","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_5___default","weekdays","readableStartDate","date","formatDate","readableEndDate","value2","startDateString","toISOString","endDateString","requiresManualInput","discriminatorDefinition","discriminatorType","discriminator","arrayIDs","r","toString","selector","valid","_modules_FilterService__WEBPACK_IMPORTED_MODULE_6__","isValidFilter","comparatorLookup","inputType","dataType","_discriminatorType","_discriminatorDefinition","_discriminator","comparators","getComparatorsForType","model.key","d","selectDatePeriod","option","definitions","def","rawRowsAlreadyHaveKey","hasOwnProperty","flatten","uniqBy","val","name","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_1___default","params","populate","values","active","TableRowCheckboxvue_type_script_lang_js_","table_TableRowCheckboxvue_type_script_lang_js_","MATCH","KEY","re","propertyIsEnumerable","aFunction","toObject","$sort","test","comparefn","rawValue","object","isObject","_type","startDate","setPrototypeOf","that","C","S","constructor","prototype","$includes","el","TableHeaderCheckboxvue_type_script_lang_js_","table_TableHeaderCheckboxvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TableHeaderCheckbox_vue_vue_type_style_index_0_id_1f67704f_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TableHeaderCheckbox_vue_vue_type_style_index_0_id_1f67704f_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","renderer","table_TableCellvue_type_script_lang_js_","TableCellvue_type_script_lang_js_","anObject","check","proto","TypeError","buggy","Function","__proto__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Table_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Table_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","$keys","hiddenKeys","getOwnPropertyNames","pa-0","xs4","single-line","item-text","item-value","items","callback","$$v","expression","label","fixed","right","close-on-content-click","transition","flat","block","left","no-title","scrollable","multiple","nudge-right","lazy","full-width","min-width","color","$refs","save","mask","components_FilterConditionRowvue_type_script_lang_js_","FilterConditionRowvue_type_script_lang_js_","VAutocomplete","VCardText","components_VCard","VDatePicker","VSelect","VSpacer","VGrid","VTextField","currentRawRequest","currentPageItemsRequest","CancelToken","axios__WEBPACK_IMPORTED_MODULE_17___default","MAX_ROWS","MAX_CHUNK_SIZE","defaultFields","grouping","includeArchivedByDefault","enableSelection","defaultSort","defaultSortType","defaultSortDirection","filterConfig","initPage","initSort","direction","pageSize","dataSource","allDefinitions","search","endDate","filtered","refined","debouncedSearch","perPage","loadingItems","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_11___default","previousSelectionIndex","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_10___default","rowsLoaded","selectionEnabled","grouped","page","excludeArchived","requiresArchivedInResults","activeFilterRows","isRelevant","isDeceased","rowsTotal","activeFilters","_modules_FilterService__WEBPACK_IMPORTED_MODULE_18__","activeFilterKeys","activeFilterValues","activeFilterComparators","activeFilterOperators","rowCheckString","ids","dateWatchString","filterCheckString","filterString","getFilterChangeString","isAsync","sortingKey","sortingType","sortType","sortingDirection","isNull","isNaN","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_5___default","timestamp","toLowerCase","reverse","availablePages","chunk","Math","floor","min","rawPage","anyNotSelected","notSelected","selectAllIcon","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default","EXCLUDE_ARCHIVED","appendDetailSheets","appendFullFamily","uniq","offset","memo","checkBatch","lastBatch","fullChunk","reachedLimit","loadNextBatch","source","parameters","appendContactDetail","cacheString","cachedValue","chunkLoaded","api","cancelToken","token","isCancel","additionalFields","select","populateAll","lookup","reduce","entry","pageItems","id","numberWithCommas","x","newValue","refine","refilter","validFilters","filterGroupMatch","refinedItems","searchKeywords","trim","searchPieces","split","itemTitle","exactMatch","match","every","partial","word","matchAnyString","setHours","itemStartDate","itemEndDate","itemIndex","toggleSelection","isolateOnClick","setSelection","toggle","metaKey","shiftKey","previousIntent","start","end","max","getRange","deselectMultiple","selectMultiple","v","setSort","sortObject","alreadyActive","currentDirection","setPage","status","pageNumber","topElement","top","scrollIntoView","toggleSelectAll","TableHeaderCheckbox","_TableHeaderCheckbox_vue__WEBPACK_IMPORTED_MODULE_14__","TableRowCheckbox","_TableRowCheckbox_vue__WEBPACK_IMPORTED_MODULE_15__","TableCell","_TableCell_vue__WEBPACK_IMPORTED_MODULE_16__","defined","spaces","space","non","ltrim","RegExp","rtrim","exporter","exec","ALIAS","exp","FORCE","string","TYPE","toLength","ENDS_WITH","$endsWith","endsWith","endPosition","len","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FilterConditionRow_vue_vue_type_style_index_0_id_6799bd5c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FilterConditionRow_vue_vue_type_style_index_0_id_6799bd5c_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","global","cof","inheritIfRequired","gOPN","dP","$trim","NUMBER","$Number","Base","BROKEN_COF","TRIM","toNumber","argument","it","third","radix","maxCode","charCodeAt","NaN","code","digits","l","parseInt","valueOf","j","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TableRowCheckbox_vue_vue_type_style_index_0_id_7704fcaa_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TableRowCheckbox_vue_vue_type_style_index_0_id_7704fcaa_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","isRegExp","NAME","service","getString","input","includeIDs","_external","getAllStringMatches","matches","isBetween","from","to","startFloat","_Users_cadeembery_code_winner_node_modules_babel_runtime_corejs2_core_js_parse_float__WEBPACK_IMPORTED_MODULE_6___default","endFloat","checkFloat","isIn","range","stringInput","isEmpty","isEqual","matchAny","rangeAsString","isMatch","isContained","isString","dateCompare","format","moment","config","getActiveFilter","isValid","b","getRootKey","getComparator","nameTitle","getActiveFilterComparator","getActiveFilterBlockOperator","keywords","isSimilar","mustMatchValue","score","stringSimilarity","_similar","restrict","dateDisplayFormat","mustMatchString","weekdayInteger","weekday","mustMatchValue1","mustMatchValue2","checkDate","positive","startsWith","allTypes","comparatorTypeLookup","restrictTypes","existing","isDate","filterGroup","filterBlock","wasMatch","filterMatch","itemValue","itMatches","STARTS_WITH","$startsWith","index","large","pa-2","directives","rawName","change","$$selectedVal","o","selected","_value","g","additional","py-2 px-0","staticStyle","white-space","outline","components_FilterConditionGroupvue_type_script_lang_js_","FilterConditionGroupvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FilterConditionGroup_vue_vue_type_style_index_0_id_020f5bdc_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FilterConditionGroup_vue_vue_type_style_index_0_id_020f5bdc_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-d1bfe85e.2fbc16cb.js","sourcesContent":["module.exports = {\n\tcompareTwoStrings,\n\tfindBestMatch\n};\n\nfunction compareTwoStrings(first, second) {\n\tfirst = first.replace(/\\s+/g, '')\n\tsecond = second.replace(/\\s+/g, '')\n\n\tif (!first.length && !second.length) return 1;                   // if both are empty strings\n\tif (!first.length || !second.length) return 0;                   // if only one is empty string\n\tif (first === second) return 1;       \t\t\t\t\t\t\t // identical\n\tif (first.length === 1 && second.length === 1) return 0;         // both are 1-letter strings\n\tif (first.length < 2 || second.length < 2) return 0;\t\t\t // if either is a 1-letter string\n\n\tlet firstBigrams = new Map();\n\tfor (let i = 0; i < first.length - 1; i++) {\n\t\tconst bigram = first.substr(i, 2);\n\t\tconst count = firstBigrams.has(bigram)\n\t\t\t? firstBigrams.get(bigram) + 1\n\t\t\t: 1;\n\n\t\tfirstBigrams.set(bigram, count);\n\t};\n\n\tlet intersectionSize = 0;\n\tfor (let i = 0; i < second.length - 1; i++) {\n\t\tconst bigram = second.substr(i, 2);\n\t\tconst count = firstBigrams.has(bigram)\n\t\t\t? firstBigrams.get(bigram)\n\t\t\t: 0;\n\n\t\tif (count > 0) {\n\t\t\tfirstBigrams.set(bigram, count - 1);\n\t\t\tintersectionSize++;\n\t\t}\n\t}\n\n\treturn (2.0 * intersectionSize) / (first.length + second.length - 2);\n}\n\nfunction findBestMatch(mainString, targetStrings) {\n\tif (!areArgsValid(mainString, targetStrings)) throw new Error('Bad arguments: First argument should be a string, second should be an array of strings');\n\t\n\tconst ratings = [];\n\tlet bestMatchIndex = 0;\n\n\tfor (let i = 0; i < targetStrings.length; i++) {\n\t\tconst currentTargetString = targetStrings[i];\n\t\tconst currentRating = compareTwoStrings(mainString, currentTargetString)\n\t\tratings.push({target: currentTargetString, rating: currentRating})\n\t\tif (currentRating > ratings[bestMatchIndex].rating) {\n\t\t\tbestMatchIndex = i\n\t\t}\n\t}\n\t\n\t\n\tconst bestMatch = ratings[bestMatchIndex]\n\t\n\treturn { ratings, bestMatch, bestMatchIndex };\n}\n\nfunction flattenDeep(arr) {\n\treturn Array.isArray(arr) ? arr.reduce((a, b) => a.concat(flattenDeep(b)), []) : [arr];\n}\n\nfunction areArgsValid(mainString, targetStrings) {\n\tif (typeof mainString !== 'string') return false;\n\tif (!Array.isArray(targetStrings)) return false;\n\tif (!targetStrings.length) return false;\n\tif (targetStrings.find(s => typeof s !== 'string')) return false;\n\treturn true;\n}\n\nfunction letterPairs(str) {\n\tconst pairs = [];\n\tfor (let i = 0, max = str.length - 1; i < max; i++) pairs[i] = str.substring(i, i + 2);\n\treturn pairs;\n}\n\nfunction wordLetterPairs(str) {\n\tconst pairs = str.toUpperCase().split(' ').map(letterPairs);\n\treturn flattenDeep(pairs);\n}\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","<template>\n    <div class=\"filter-group-outer\" :class=\"{mini:mini, large:!mini}\">\n        <v-container ref=\"element\" :class=\"[{'pa-2': mini}, model.operator]\">\n            <v-layout row v-if=\"model.filters.length > 1\">\n                <v-flex d-flex align-center>\n                    <template v-if=\"mini\">\n                        <div class=\"description\">\n                            Match\n                            <select class=\"select-operator\" v-model=\"model.operator\">\n                                <option value=\"and\">all</option>\n                                <option value=\"or\">any</option>\n                                <option value=\"nor\">none</option>\n                            </select>\n                            of these rules\n                        </div>\n                    </template>\n                    <template v-else>\n                        <div class=\"description\">\n                            Show items that match\n                            <select class=\"select-operator\" v-model=\"model.operator\">\n                                <option value=\"and\">all</option>\n                                <option value=\"or\">any</option>\n                                <option value=\"nor\">none</option>\n                            </select> of these conditions\n                        </div>\n                    </template>\n                </v-flex>\n            </v-layout>\n            <v-layout row :key=\"group.guid\" v-for=\"(group, g) in model.filters\">\n                <div class=\"operator-column offset \" :class=\"model.operator\" v-if=\"model.filters.length > 1\" d-flex align-center>\n                    <span class=\"operator\" :class=\"[{additional:g}, model.operator]\">{{operatingWord(model, g)}}</span>\n                </div>\n                <v-flex>\n                    <!-- {additional:model.filters.length > 1} -->\n                    <v-container :class=\"[{'pa-2': mini}, {'py-2 px-0':!mini}, group.operator]\" class=\"additional filter-group\">\n                        <template v-if=\"group.filters\">\n                            <v-layout row>\n                                <v-flex d-flex align-center>\n                                    <template v-if=\"mini\">\n                                        <div class=\"description\" v-if=\"group.filters.length > 1\">\n                                            Match\n                                            <select class=\"select-operator\" v-model=\"group.operator\">\n                                                <option value=\"and\">all</option>\n                                                <option value=\"or\">any</option>\n                                                <option value=\"nor\">none</option>\n                                            </select>\n                                            of these conditions\n                                        </div>\n                                        <div class=\"description\" v-else>\n                                            Match these conditions\n                                        </div>\n                                    </template>\n                                    <template v-else>\n                                        <div>\n                                            <h4>Rule {{g+1}}</h4>\n                                            <div v-if=\"group.filters.length > 1\">\n                                                Show items that match\n                                                <select v-model=\"group.operator\">\n                                                    <option value=\"and\">All</option>\n                                                    <option value=\"or\">Any</option>\n                                                    <option value=\"nor\">None</option>\n                                                </select> of these conditions\n                                                <!-- <v-select dense v-model=\"group.operator\" :items=\"operatorOptions\" /> -->\n                                            </div>\n                                        </div>\n                                    </template>\n                                </v-flex>\n                                <v-spacer />\n                                <template v-if=\"mini\">\n                                    <div class=\"hover\" style=\"white-space: nowrap;\">\n                                        <v-btn class=\"ma-0\" small flat icon content=\"Duplicate rule\" v-tippy color=\"grey\" @click=\"duplicateEntry(model, g)\">\n                                            <fluro-icon icon=\"copy\" />\n                                        </v-btn>\n                                        <v-btn class=\"ma-0\" small flat icon content=\"Remove rule\" v-tippy color=\"red\" @click=\"removeEntry(model, g)\">\n                                            <fluro-icon icon=\"trash-alt\" />\n                                        </v-btn>\n                                    </div>\n                                </template>\n                                <template v-else>\n                                    <div class=\"hover\">\n                                        <v-btn small color=\"grey\" outline @click=\"duplicateEntry(model, g)\">\n                                            <span class=\"btn-label\">Duplicate</span>\n                                            <fluro-icon right icon=\"copy\" />\n                                        </v-btn>\n                                        <v-btn small color=\"red\" outline @click=\"removeEntry(model, g)\">\n                                            <span class=\"btn-label\">Duplicate</span>\n                                            <fluro-icon right icon=\"copy\" />\n                                        </v-btn>\n                                    </div>\n                                </template>\n                            </v-layout>\n                            <!-- :key=\"i\" -->\n                            <div v-for=\"(filter, index) in group.filters\" :key=\"filter.guid\">\n                                <v-layout>\n                                    <div class=\"operator-column\" :class=\"[group.operator]\" v-if=\"group.filters.length > 1\" d-flex align-center>\n                                        <span class=\"operator\" :class=\"[{additional:index}, group.operator]\">{{operatingWord(group, index)}}</span>\n                                    </div>\n                                    <v-flex>\n                                        <!-- <h3 v-if=\"!limit && group.filters.length > 1\">Rule 1</h3> -->\n                                        <!-- :columns=\"columns\" -->\n                                        <filter-condition-row :rows=\"rows\" :loadingKeys=\"loadingKeys\" :definition=\"definition\" :fields=\"availableKeys\" :mini=\"mini\" v-model=\"group.filters[index]\"></filter-condition-row>\n                                    </v-flex>\n                                    <div v-if=\"group.filters.length > 1\">\n                                        <template v-if=\"mini\">\n                                            <v-btn small class=\"ma-0\" icon @click=\"removeEntry(group, index)\">\n                                                <fluro-icon icon=\"times\" />\n                                            </v-btn>\n                                        </template>\n                                        <template v-else>\n                                            <v-btn icon @click=\"removeEntry(group, index)\">\n                                                <fluro-icon icon=\"times\" />\n                                            </v-btn>\n                                        </template>\n                                    </div>\n                                </v-layout>\n                            </div>\n                        </template>\n                        <!-- <pre>{{group}}</pre> -->\n                        <v-btn class=\"mx-0\" small @click=\"addCondition(group)\">\n                            Add Condition\n                            <fluro-icon right icon=\"plus\" />\n                        </v-btn>\n                    </v-container>\n                </v-flex>\n            </v-layout>\n            <v-btn class=\"mx-0\" color=\"white\" v-if=\"!limit\" @click=\"addRule(model)\">\n                Add {{model.filters.length ? 'Another' : ''}} Rule\n                <fluro-icon right icon=\"plus\" />\n            </v-btn>\n        </v-container>\n    </div>\n</template>\n<script>\nimport Vue from 'vue';\nimport FilterService from '@/modules/FilterService';\n\n// import FilterConditionRow from './FilterConditionRow.vue';\n\n\nvar indexIterator = 0;\nvar DEFAULT_COMPARATOR = 'in';//'in'; //'=='\n\nfunction getFlattenedFields(array, trail, titles) {\n\n\n    return _.chain(array)\n        .map(function(field, key) {\n\n            var returnValue = [];\n\n\n\n            // console.log('FIELD WOOT', field);\n            /////////////////////////////////////////\n\n            //If there are sub fields\n            if (field.fields && field.fields.length) {\n\n\n                if (field.asObject || field.directive == 'embedded') {\n                    //Push the field itself\n                    trail.push(field.key);\n                    titles.push(field.title)\n\n                    field.trail = trail.slice();\n                    field.titles = titles.slice();\n\n                    trail.pop();\n                    titles.pop();\n                    returnValue.push(field);\n\n\n                    ///////////////////////////////\n\n                    //Prepend the key to all lowed fields\n\n\n\n\n                    if (field.maximum != 1) {\n                        trail.push(field.key + '[' + indexIterator + ']');\n                        titles.push(field.title);\n                    } else {\n                        trail.push(field.key);\n                        titles.push(field.title);\n                    }\n                }\n\n                // console.log('Go down', field.key);\n                var fields = getFlattenedFields(field.fields, trail, titles);\n\n                if (field.asObject || field.directive == 'embedded') {\n                    trail.pop()\n                    titles.pop();\n                }\n                //console.log('Go back up')\n                returnValue.push(fields);\n\n\n            } else {\n                /////////////////////////////////////////\n\n                //Push the field key\n                trail.push(field.key);\n                titles.push(field.title);\n\n                field.trail = trail.slice();\n                field.titles = titles.slice();\n                trail.pop();\n                titles.pop();\n                returnValue.push(field);\n            }\n\n\n\n            /////////////////////////////////////////\n\n            return returnValue;\n\n        })\n        .flattenDeep()\n        .value();\n}\n\n\n\n\nexport default {\n    props: {\n        type: {\n            type: String,\n        },\n        fields: {\n            type: Array,\n            default () {\n                return [];\n            },\n        },\n        mini: {\n            type: Boolean,\n        },\n        rows: {\n            type: Array,\n        },\n        // columns: {\n        //     type: Array,\n        // },\n        'value': {\n            type: Object,\n            required: true,\n            default () {\n                return {\n                    guid: this.$fluro.utils.guid(),\n                    operator: 'and',\n                    filters: [],\n                }\n            }\n        },\n        'debounce': {\n            type: Number,\n            default: 0,\n        },\n        limit: {\n            type: Boolean,\n        }\n    },\n    beforeCreate: function() {\n        this.$options.components.FilterConditionRow = require('./FilterConditionRow.vue').default;\n        this.$options.components.FilterConditionGroup = require('./FilterConditionGroup.vue').default;\n    },\n    created() {\n\n        var self = this;\n\n        //Get the filters as an array\n        // self.$set(self.model, 'filters', self.model.filters.slice())\n\n        ////////////////////////////////////////////////\n\n        self.debounced = _.debounce(function() {\n            // self.model = self.words;\n            // console.log('DEBOUNCED', self.model, self.debounce)\n            self.$emit('input', JSON.parse(JSON.stringify(self.model)));\n        }, self.debounce);\n\n\n        // this.retrieveKeys();\n\n    },\n\n\n    // components: {\n    //     FilterConditionRow,\n    // },\n    methods: {\n        operatingWord(group, i) {\n            if (i) {\n                return group.operator;\n            } else {\n                switch (group.operator) {\n                    case 'nor':\n                        return 'Not';\n                        break;\n                    default:\n                        return 'Where';\n                        break;\n                }\n            }\n        },\n        addRule(group) {\n            group.filters.push({\n                operator: 'and',\n                guid: this.$fluro.utils.guid(),\n                filters: [{\n                    comparator: DEFAULT_COMPARATOR,\n                }]\n            })\n        },\n        addCondition(group) {\n            group.filters.push({\n                guid: this.$fluro.utils.guid(),\n                comparator: DEFAULT_COMPARATOR,\n            })\n        },\n        duplicateEntry(group, i) {\n\n\n            var newEntry = JSON.parse(JSON.stringify(group.filters[i]));\n            newEntry.guid = this.$fluro.utils.guid();\n            group.filters.splice(i, 0, newEntry);\n        },\n        removeEntry(group, i) {\n\n            this.$delete(group.filters, i)\n\n            var length = group.filters.length;\n            if (length < 2) {\n                console.log('Set to AND')\n                this.$set(group, 'operator', 'and');\n            }\n\n\n            // group.filters.splice(i, 1)\n            // Vue.set(group, 'filters', group.filters);\n\n            // this.model.filters.splice(index, 1);\n            // this.$set(this.model.filters, index, null);//this.model.filters);\n            // this.$delete(this.model.filters, index)\n            // this.$set(this.model, 'filters', this.model.filters.slice())\n            // var index = this.model.filters.indexOf(filter);\n            // this.model.filters.splice(index, 1);\n        },\n\n        retrieveKeys() {\n\n            var self = this;\n\n\n            ////////////////////////////////////\n\n            //There are no rows\n            if (!self.rows || !self.rows.length) {\n                //console.log('Values > No rows')\n                self.availableKeys = [];\n                this.loadingKeys = false;\n                return;\n            }\n\n            ////////////////////////////////////\n\n            //Show feedback to the user that we are loading\n            //the values for them\n            this.loadingKeys = true;\n\n            //This is the key for our cached request\n            var cacheKey = self.rowChangeString;\n\n            ////////////////////////////////////\n\n            //Get the storage cache\n            var valueStorageCache = this.$fluro.cache.get('filter-distinct-keys');\n\n            ////////////////////////////////////\n\n            //Check to see if there is already a cached set of values\n            //for this query\n            var valueCache = valueStorageCache[cacheKey];\n\n            ////////////////////////////////////\n\n            //If we haven't already got the values for this request\n            if (!valueCache) {\n\n                //Get all the ids\n                var subSetIDs = _.map(self.rows, '_id');\n\n                //We need to make an asynchronous request to the server\n                //to find out what values we can filter by\n                var options = {}\n\n                //Make the request and cache it\n                valueCache = valueStorageCache[cacheKey] = self.$fluro.content.keys(subSetIDs, options);\n            }\n\n            /////////////////////////////////////////////////////////////////\n\n            //When the request is complete\n            valueCache.then(function(res) {\n\n                console.log('Keys!!', res);\n\n                self.availableKeys = res;\n                self.loadingKeys = false;\n            }, function(err) {\n\n                console.log('Error', err);\n\n                self.availableKeys = [];\n                self.loadingKeys = false;\n\n                //Clear the cache request for next time\n                valueStorageCache[cacheKey] = null;\n            });\n\n\n        }\n    },\n    data() {\n\n        var self = this;\n\n        var clone = JSON.parse(JSON.stringify(this.value));\n        _.each(clone.filters, function(filter) {\n            filter.guid = self.$fluro.utils.guid();\n        })\n\n        return {\n            model: clone,\n            debounced: null,\n            operatorOptions: [\n                { text: 'All', value: 'and' },\n                { text: 'Any', value: 'or' },\n                { text: 'All', value: 'and' },\n            ],\n            // availableKeys:[],\n            loadingKeys: false,\n        }\n    },\n    asyncComputed: {\n        definition: {\n            get() {\n\n                var self = this;\n\n                if (!self.type || !self.type.length) {\n                    return Promise.resolve(null);\n                }\n\n                return new Promise(function(resolve, reject) {\n\n                    return self.$fluro.types.get(self.type)\n                        .then(function(definition) {\n                            return resolve(definition);\n                        })\n                        .catch(reject);\n                })\n\n            }\n        },\n\n    },\n    computed: {\n        // rowChangeString() {\n        //     return `${this.type}-${_.orderBy(this.$fluro.utils.arrayIDs(this.rows), function(r) {\n        //         return r;\n        //     }).toString()}`;\n        // },\n        availableKeys() {\n\n            var self = this;\n\n            var fields = self.fields || [];\n\n\n\n\n\n            if (self.definition) {\n                fields = fields.concat((_.get(self, 'definition.type.fields') || []), (_.get(self, 'definition.definition.fields') || []));\n\n                if (self.definition.details && self.definition.details.length) {\n\n                    // console.log('DETAIL SHEETS FIELDS', self.definition.details)\n                    _.each(self.definition.details, function(detailSheet) {\n\n                        // //Get all the flattened fields\n                        var flattened = getFlattenedFields(detailSheet.fields, [], []);\n\n                        var mapped = _.chain(flattened)\n                            .map(function(field) {\n\n                                if(field.type =='group') {\n                                    return;\n                                }\n\n                                return {\n                                    title: detailSheet.title + ' - ' + field.titles.join(' > '),\n                                    key: `details.${detailSheet.definitionName}.items[0].data.${field.trail.join('.')}`,\n                                    minimum: field.minimum,\n                                    maximum: field.maximum,\n                                    detail: detailSheet.definitionName,\n                                    type: field.type,\n                                }\n                            })\n                            .compact()\n                            .value();\n\n\n\n                        // _.map(detailSheet.fields, function(field) {\n\n                        //     return {\n                        //         title:detailSheet.title + ' - ' + field.title,\n                        //         key:`details.${detailSheet.definitionName}.${field.key}`,\n                        //         // key:field.key,\n                        //         // `details.${detailSheet.definitionName}.items[0].data[${field.key}]`,\n                        //         type:field.type,\n                        //         minimum:field.minimum,\n                        //         maximum:field.maximum,\n                        //         detail:detailSheet.definitionName,\n\n                        //     }\n\n                        // })\n\n                        fields = fields.concat(mapped);\n                    })\n                }\n            }\n\n            return _.orderBy(fields, 'title')\n\n        },\n    },\n    watch: {\n        // rowChangeString() {\n        //     this.retrieveKeys();\n        // },\n        'model': {\n            handler: function() {\n                this.debounced();\n            },\n            deep: true,\n        }\n    },\n}\n</script>\n<style scoped lang=\"scss\">\n$color-nor: #333;\n$color-or: $warning;\n$color-and: $success;\n\n\n\n.filter-group-outer {\n\n\n    .description {\n        font-size: 13px;\n        padding: 10px 0;\n    }\n\n    .select-operator {\n        font-size: 13px;\n        border: 1px solid transparent;\n        background: none;\n        text-align: center;\n        appearance: none;\n        display: inline-block;\n\n        &:hover {\n            border: 1px solid rgba(#000, 0.1);\n            background: #fff;\n        }\n    }\n\n\n    &.mini {\n        .operator {\n\n            font-weight: 700;\n            // letter-spacing: 0.1em;\n            overflow: hidden;\n            text-align: center;\n            text-transform: uppercase;\n            font-size: 10px;\n            padding: 0 3px;\n            position: absolute;\n            left: 50%;\n            transform: translateX(-50%);\n            line-height: 20px;\n            height: 20px;\n            color: transparent;\n            // border-radius: 50%;\n            border: 1px solid #fff;\n            background: $color-and;\n            border-radius: 10px;\n            opacity: 0;\n\n            &.additional {\n                opacity: 1;\n                color: #fff;\n            }\n\n            &.nor {\n                background: $color-nor;\n            }\n\n            &.or {\n                background: $color-or;\n            }\n\n        }\n\n        .operator-column {\n            flex: none !important;\n\n            padding-top: 8px;\n\n            width: 20px;\n            position: relative;\n\n            &:before {\n                content: '';\n                border-left: 2px solid rgba(#000, 0.1);\n                display: block;\n                position: absolute;\n                right: 50%;\n                height: 100%;\n                top: 0;\n                bottom: 0;\n            }\n\n\n            &.and:before {\n                border-left-color: $color-and;\n\n            }\n\n            &.nor:before {\n                border-left-color: $color-nor;\n\n            }\n\n            &.or:before {\n                border-left-color: $color-or;\n\n            }\n\n\n        }\n\n        .filter-group {\n\n            &.additional {\n                border: 1px solid #ccc;\n                box-shadow: 0 2px 2px rgba(#000, 0.1);\n                border-radius: 5px;\n                background: #fff;\n                margin-bottom: 15px;\n            }\n\n            // &.additional {\n            //     border-top: 1px solid rgba(#000, 0.1);\n            //     padding-top: 15px;\n            //     margin-top: 15px;\n            // }\n\n            & .hover {\n                @media(min-width: 769px) {\n                    opacity: 0;\n                }\n            }\n\n            &:hover {\n                .hover {\n                    opacity: 1;\n                }\n            }\n        }\n\n\n\n    }\n\n\n    &.large {\n        .operator {\n\n            font-weight: 600;\n            letter-spacing: 0.05em;\n            text-transform: uppercase;\n            font-size: 12px;\n            padding: 0 10px;\n            position: absolute;\n            right: 30px;\n            line-height: 32px;\n            color: transparent;\n\n            &.additional {\n                background: $color-and;\n                color: #fff;\n\n\n\n\n                border-radius: 5px 0 0 5px;\n\n                &:after {\n                    content: '';\n                    display: block;\n                    border: 16px solid transparent;\n                    border-left-color: $color-and;\n                    position: absolute;\n                    width: 32px;\n                    height: 32px;\n                    top: 0;\n                    right: -32px;\n                }\n\n\n                &.nor {\n                    background: $color-nor;\n\n                    &:after {\n                        border-left-color: $color-nor;\n                    }\n                }\n\n                &.or {\n                    background: $color-or;\n\n                    &:after {\n                        border-left-color: $color-or;\n                    }\n                }\n\n\n            }\n\n\n            &:before {\n                content: '';\n                display: block;\n                background: $success;\n                position: absolute;\n                right: -30px;\n                top: 50%;\n                margin-top: -6px;\n                width: 12px;\n                height: 12px;\n                border-radius: 100%;\n                border: 1px solid #fff;\n            }\n\n\n            &.nor {\n                &:before {\n                    background: $color-nor;\n                }\n            }\n\n            &.or {\n                &:before {\n                    background: $color-or;\n                }\n            }\n\n        }\n\n        .operator-column {\n            flex: none !important;\n\n            padding-top: 20px;\n\n            width: 90px;\n            margin-right: 25px;\n            position: relative;\n\n            &:before {\n                content: '';\n                border-left: 2px solid rgba(#000, 0.1);\n                display: block;\n                position: absolute;\n                right: 5px;\n                height: 100%;\n                top: 0;\n                bottom: 0;\n            }\n\n\n            &.and:before {\n                border-left-color: $color-and;\n\n            }\n\n            &.nor:before {\n                border-left-color: $color-nor;\n\n            }\n\n            &.or:before {\n                border-left-color: $color-or;\n\n            }\n\n\n        }\n\n        .filter-group-outer,\n        .filter-group {}\n\n        .filter-group {\n\n            &.additional {\n                border-top: 1px solid rgba(#000, 0.1);\n                padding-top: 15px;\n                margin-top: 15px;\n            }\n\n            & .hover {\n                opacity: 0;\n            }\n\n            &:hover {\n                .hover {\n                    opacity: 1;\n                }\n            }\n        }\n\n    }\n\n    .v-btn.ghost {\n        border: 1px dashed rgba(#000, 0.5);\n    }\n}\n</style>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fluro-table-wrapper\"},[(_vm.showLoading)?_c('fluro-page-preloader',{attrs:{\"contain\":\"\"}}):_vm._e(),(_vm.rows.length && !_vm.sorted.length)?_c('v-container',{staticClass:\"flex-center\"},[_vm._t(\"emptytext\",[_vm._v(\"\\n            No results were found matching your criteria\\n        \")])],2):[_c('div',{ref:\"scrollableArea\",staticClass:\"fluro-table-scroll\",class:{loading:_vm.showLoading}},[_c('span',{ref:\"top\"}),_c('table',{staticClass:\"fluro-table-main no-select\"},[_c('thead',[_c('tr',[(_vm.selectionEnabled)?_c('th',{staticClass:\"shrink checkbox-cell\"},[_c('v-menu',{attrs:{\"offset-y\":\"\"},nativeOn:{\"click\":function($event){$event.stopPropagation();}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({},on),[_c(\"table-header-checkbox\",{tag:\"div\",attrs:{\"all\":_vm.allSelected,\"some\":_vm.someSelected}})],1)]}}],null,false,3536504858)},[_c('v-card',{attrs:{\"tile\":\"\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[(!_vm.allSelected)?_c('v-list-tile',{on:{\"click\":function($event){return _vm.selectPage()}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                                                    Select this page\\n                                                \")])],1)],1):_vm._e(),(_vm.someSelected)?_c('v-list-tile',{on:{\"click\":function($event){return _vm.deselectPage()}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                                                    Deselect this page\\n                                                \")])],1)],1):_vm._e(),(_vm.filteredTotal)?_c('v-list-tile',{on:{\"click\":function($event){return _vm.selectAll()}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                                                    Select all \"+_vm._s(_vm.filteredTotal)+\" items\\n                                                \")])],1)],1):_vm._e(),(_vm.$selection.selection.length)?_c('v-list-tile',{on:{\"click\":function($event){return _vm.deselectAll()}}},[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                                                    Deselect all \"+_vm._s(_vm.filteredTotal)+\" items\\n                                                \")])],1)],1):_vm._e()],1)],1)],1)],1):_vm._e(),_vm._l((_vm.columns),function(column){return _c('th',{class:{'shrink':column.shrink, sortable:_vm.isSortable(column), 'sorting':_vm.sort.sortKey == column.key, 'text-xs-center':column.align == 'center', 'text-xs-right':column.align =='right'},on:{\"click\":function($event){return _vm.toggleSort(column)}}},[(_vm.sort.sortKey == column.key)?_c('div',{staticClass:\"sort-icon\"},[(_vm.sort.sortDirection == 'desc')?_c('fluro-icon',{attrs:{\"library\":\"fas\",\"icon\":\"caret-down\"}}):_vm._e(),(_vm.sort.sortDirection == 'asc')?_c('fluro-icon',{attrs:{\"library\":\"fas\",\"icon\":\"caret-up\"}}):_vm._e()],1):_vm._e(),_vm._v(\"\\n                            \"+_vm._s(column.title)+\"\\n                        \")])}),_c('th',{staticClass:\"shrink\"},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleConfiguration()}}},[_c('fluro-icon',{attrs:{\"icon\":\"cog\"}})],1)],1)],2)]),_c('tbody',[(_vm.grouped)?[_vm._l((_vm.grouped),function(group){return [(group.title)?_c('tr',{staticClass:\"breaker\"},[_c('th'),_c('td',{attrs:{\"colspan\":1 + _vm.columns.length}},[_vm._v(_vm._s(group.title))])]):_vm._e(),_vm._l((group.items),function(item,key){return _c('tr',{key:item._id,class:_vm.classes(item)},[(item._populating)?[_c(\"table-row-checkbox\",{tag:\"th\"}),_c('td',{attrs:{\"colspan\":_vm.columns.length},nativeOn:{\"click\":function($event){return _vm.clicked(item, _vm.column, key)}}},[_vm._v(\"-\")]),_c('th',{staticClass:\"shrink\"})]:[_c(\"table-row-checkbox\",{tag:\"th\",attrs:{\"checked\":_vm.$selection.isSelected(item),\"value\":item},nativeOn:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.checkboxClick(item, $event, item._pageIndex)}}}),_vm._l((_vm.columns),function(column){return _c('table-cell',{class:{'sorting':_vm.sort.sortKey == column.key},attrs:{\"row\":item,\"column\":column},nativeOn:{\"click\":function($event){return _vm.clicked(item, column, key)}}})}),_c('th',{staticClass:\"shrink\"},[_c('div',{staticClass:\"action-buttons\"},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$actions.open([item])}}},[_c('fluro-icon',{attrs:{\"icon\":\"ellipsis-h\"}})],1)],1)])]],2)})]})]:_vm._l((_vm.page),function(item,key){return _c('tr',{key:item._id,class:_vm.classes(item)},[(item._populating)?[(_vm.selectionEnabled)?_c(\"table-row-checkbox\",{tag:\"th\"}):_vm._e(),_c('td',{attrs:{\"colspan\":_vm.columns.length},nativeOn:{\"click\":function($event){return _vm.clicked(item, _vm.column, key)}}},[_vm._v(\"-\")]),_c('th',{staticClass:\"shrink\"})]:[(_vm.selectionEnabled)?_c(\"table-row-checkbox\",{tag:\"th\",attrs:{\"checked\":_vm.$selection.isSelected(item),\"value\":item},nativeOn:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.checkboxClick(item, $event, key)}}}):_vm._e(),_vm._l((_vm.columns),function(column){return _c('table-cell',{class:{'sorting':_vm.sort.sortKey == column.key},attrs:{\"row\":item,\"column\":column},nativeOn:{\"click\":function($event){return _vm.clicked(item, column, key)}}})}),_c('th',{staticClass:\"shrink\"},[_c('div',{staticClass:\"action-buttons\"},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$actions.open([item])}}},[_c('fluro-icon',{attrs:{\"icon\":\"ellipsis-h\"}})],1)],1)])]],2)})],2)])]),_c('div',{staticClass:\"footer-stats\"},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[(!_vm.totalPages)?[_c('v-flex',{staticClass:\"text-muted\"},[_vm._v(\"\\n                        No matches\\n                    \")])]:[_c('v-flex',{staticClass:\"text-muted\",attrs:{\"xs6\":\"\",\"align-center\":\"\",\"d-flex\":\"\"}},[_vm._v(\"\\n                        \"+_vm._s(_vm._f(\"numberWithCommas\")(_vm.startOffset + 1))+\" to \"+_vm._s(_vm._f(\"numberWithCommas\")(_vm.endOffset))+\" of \"+_vm._s(_vm._f(\"numberWithCommas\")(_vm.filteredTotal))+\" matches\\n                        \")]),_c('v-flex',{staticClass:\"text-xs-right\",attrs:{\"xs6\":\"\",\"align-center\":\"\",\"d-flex\":\"\"}},[_c('div',[(_vm.$vuetify.breakpoint.smAndUp)?_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Page \"+_vm._s(_vm.currentPage)+\" of \"+_vm._s(_vm.totalPages))]):_vm._e(),_c('span',{staticClass:\"ml-3\"},[[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"disabled\":_vm.previousPageDisabled,\"icon\":\"\"},on:{\"click\":function($event){return _vm.firstPage()}}},[_c('fluro-icon',{attrs:{\"icon\":\"arrow-to-left\"}})],1),_c('v-btn',{staticClass:\"ma-0\",attrs:{\"disabled\":_vm.previousPageDisabled,\"icon\":\"\"},on:{\"click\":function($event){return _vm.previousPage()}}},[_c('fluro-icon',{attrs:{\"icon\":\"arrow-left\"}})],1)],[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"disabled\":_vm.nextPageDisabled,\"icon\":\"\"},on:{\"click\":function($event){return _vm.nextPage()}}},[_c('fluro-icon',{attrs:{\"icon\":\"arrow-right\"}})],1),_c('v-btn',{staticClass:\"ma-0\",attrs:{\"disabled\":_vm.nextPageDisabled,\"icon\":\"\"},on:{\"click\":function($event){return _vm.lastPage()}}},[_c('fluro-icon',{attrs:{\"icon\":\"arrow-to-right\"}})],1)]],2)])])]],2)],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Table.vue?vue&type=template&id=61077617&\"\nimport script from \"./Table.vue?vue&type=script&lang=js&\"\nexport * from \"./Table.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Table.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VListTileContent } from 'vuetify/lib'\nimport { VListTileTitle } from 'vuetify/lib'\nimport { VMenu } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VCard,VContainer,VFlex,VLayout,VList,VListTile,VListTileContent,VListTileTitle,VMenu})\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\n    <!-- grid-list-lg -->\n    <v-container class=\"filter-condition-row\" :class=\"{mini:mini}\" pa-0>\n        <!-- <pre>{{model}}</pre> -->\n        <v-layout>\n            <v-flex xs4>\n                <!-- <pre>{{valid}}</pre> -->\n                <template v-if=\"fields.length\">\n                    <template v-if=\"$vuetify.breakpoint.xsOnly\">\n                        <v-select single-line dense :loading=\"loadingKeys\" v-model=\"model.key\" item-text=\"title\" item-value=\"key\" :items=\"fields\" />\n                    </template>\n                    <template v-else>\n                        <v-autocomplete single-line dense :loading=\"loadingKeys\" v-model=\"model.key\" item-text=\"title\" item-value=\"key\" :items=\"fields\" />\n                    </template>\n                </template>\n                <template v-else>\n                    <v-text-field single-line label=\"\" v-model=\"model.key\"></v-text-field>\n                </template>\n                <!-- <pre>{{selector}}</pre> -->\n            </v-flex>\n            <v-flex xs4>\n                <v-select single-line dense v-model=\"model.comparator\" item-text=\"title\" item-value=\"operator\" :items=\"comparators\" />\n                <!-- <pre>{{model.comparator}}</pre> -->\n            </v-flex>\n            <template v-if=\"comparator\">\n                <template v-if=\"inputType == 'none'\">\n                </template>\n                <v-flex xs4 v-else-if=\"inputType == 'daterange'\">\n                    <v-menu :fixed=\"true\" :right=\"true\" ref=\"dateSelection\" :close-on-content-click=\"false\" transition=\"slide-y-transition\" offset-y>\n                        <template v-slot:activator=\"{ on }\">\n                            <v-btn small flat block class=\"ma-0\" v-on=\"on\">\n                                <fluro-icon library=\"far\" icon=\"calendar\" left /> {{readableStartDate}} - {{readableEndDate}}\n                            </v-btn>\n                        </template>\n                        <v-card>\n                            <v-layout>\n                                <v-flex>\n                                    <v-card-text>\n                                        <label>&nbsp;</label>\n                                        <v-list dense>\n                                            <v-list-tile @click=\"selectDatePeriod(option)\" v-for=\"option in datePeriodOptions\" :key=\"option.value\">\n                                                {{option.title}}\n                                            </v-list-tile>\n                                        </v-list>\n                                    </v-card-text>\n                                </v-flex>\n                                <v-flex>\n                                    <v-card-text class=\"text-sm-center\"><label>From Date</label></v-card-text>\n                                    <v-date-picker v-model=\"startDateString\" no-title scrollable></v-date-picker>\n                                </v-flex>\n                                <v-flex>\n                                    <v-card-text class=\"text-sm-center\"><label>To Date</label></v-card-text>\n                                    <v-date-picker v-model=\"endDateString\" no-title scrollable></v-date-picker>\n                                </v-flex>\n                            </v-layout>\n                        </v-card>\n                    </v-menu>\n                    <!-- <v-layout>\n                        <v-flex xs6>\n                            <v-menu ref=\"daterange1\" v-model=\"date1\" :close-on-content-click=\"false\" :nudge-right=\"40\" lazy transition=\"scale-transition\" offset-y full-width min-width=\"290px\">\n                                <template v-slot:activator=\"{ on }\">\n                                    <v-text-field v-model=\"model.value\" class=\"small-input\" single-line label=\"From\" v-on=\"on\" />\n                                </template>\n                                <v-date-picker v-model=\"model.value\" no-title scrollable>\n                                    <v-spacer></v-spacer>\n                                    <v-btn flat color=\"primary\" @click=\"date1 = false\">Cancel</v-btn>\n                                    <v-btn flat color=\"primary\" @click=\"$refs.daterange1.save(model.value)\">OK</v-btn>\n                                </v-date-picker>\n                            </v-menu>\n                        </v-flex>\n                        <v-flex xs6>\n                            <v-menu ref=\"daterange2\" v-model=\"date2\" :close-on-content-click=\"false\" :nudge-right=\"40\" lazy transition=\"scale-transition\" offset-y full-width min-width=\"290px\">\n                                <template v-slot:activator=\"{ on }\">\n                                    <v-text-field v-model=\"model.value2\" class=\"small-input\" single-line label=\"To\" v-on=\"on\" />\n                                </template>\n                                <v-date-picker v-model=\"model.value2\" no-title scrollable>\n                                    <v-spacer></v-spacer>\n                                    <v-btn flat color=\"primary\" @click=\"date2 = false\">Cancel</v-btn>\n                                    <v-btn flat color=\"primary\" @click=\"$refs.daterange2.save(model.value2)\">OK</v-btn>\n                                </v-date-picker>\n                            </v-menu>\n                        </v-flex>\n                    </v-layout> -->\n                </v-flex>\n                <v-flex xs4 v-else-if=\"inputType == 'range'\">\n                    <v-layout>\n                        <v-flex xs6>\n                            <v-text-field class=\"small-input\" single-line label=\"from\" v-model=\"model.value\"></v-text-field>\n                        </v-flex>\n                        <v-flex xs6>\n                            <v-text-field class=\"small-input\" single-line label=\"to\" v-model=\"model.value2\"></v-text-field>\n                        </v-flex>\n                    </v-layout>\n                </v-flex>\n                <v-flex xs4 v-else-if=\"inputType == 'array'\">\n                    <template v-if=\"$vuetify.breakpoint.xsOnly\">\n                        <v-select class=\"small-input\" multiple dense v-model=\"model.values\" item-text=\"title\" item-value=\"_id\" :loading=\"loadingValues\" :items=\"possibleValues\"></v-select>\n                    </template>\n                    <template v-else>\n                        <v-autocomplete class=\"small-input\" multiple dense v-model=\"model.values\" item-text=\"title\" item-value=\"_id\" :loading=\"loadingValues\" :items=\"possibleValues\"></v-autocomplete>\n                    </template>\n                </v-flex>\n                <v-flex xs4 v-else>\n                    <template v-if=\"dataType == 'date'\">\n                        <template v-if=\"model.comparator == 'datesameweekday'\">\n                            <v-select single-line multiple dense v-model=\"model.value\" item-text=\"title\" item-value=\"value\" :items=\"weekdays\" />\n                        </template>\n                        <template v-else>\n                            <v-menu ref=\"date1\" v-model=\"date1\" :close-on-content-click=\"false\" :nudge-right=\"40\" lazy transition=\"scale-transition\" offset-y full-width min-width=\"290px\">\n                                <template v-slot:activator=\"{ on }\">\n                                    <v-text-field v-model=\"model.value\" class=\"small-input\" single-line label=\"Date\" v-on=\"on\" />\n                                </template>\n                                <v-date-picker v-model=\"model.value\" no-title scrollable>\n                                    <v-spacer></v-spacer>\n                                    <v-btn flat color=\"primary\" @click=\"date1 = false\">Cancel</v-btn>\n                                    <v-btn flat color=\"primary\" @click=\"$refs.date1.save(model.value)\">OK</v-btn>\n                                </v-date-picker>\n                            </v-menu>\n                        </template>\n                    </template>\n                    <v-text-field v-else-if=\"dataType == 'number' || dataType == 'float' || dataType == 'decimal'\" class=\"small-input\" single-line v-model=\"model.value\"></v-text-field>\n                    <v-text-field v-else-if=\"dataType == 'integer'\" class=\"small-input\" single-line mask=\"############\" v-model=\"model.value\"></v-text-field>\n                    <template v-else-if=\"dataType =='reference'\">\n                        <template v-if=\"$vuetify.breakpoint.xsOnly\">\n                            <v-select class=\"small-input\" dense v-model=\"model.value\" item-text=\"title\" item-value=\"_id\" :loading=\"loadingValues\" :items=\"possibleValues\"></v-select>\n                        </template>\n                        <template v-else>\n                            <v-autocomplete class=\"small-input\" dense v-model=\"model.value\" item-text=\"title\" item-value=\"_id\" :loading=\"loadingValues\" :items=\"possibleValues\"></v-autocomplete>\n                        </template>\n                    </template>\n                    <template v-else>\n                        <template v-if=\"requiresManualInput\">\n                            <v-text-field class=\"small-input\" single-line v-model=\"model.value\"></v-text-field>\n                        </template>\n                        <template v-else>\n                            <template v-if=\"$vuetify.breakpoint.xsOnly\">\n                                <v-select class=\"small-input\" dense v-model=\"model.value\" :loading=\"loadingValues\" :items=\"possibleValues\"></v-select>\n                            </template>\n                            <template v-else>\n                                <v-autocomplete class=\"small-input\" dense v-model=\"model.value\" :loading=\"loadingValues\" :items=\"possibleValues\"></v-autocomplete>\n                            </template>\n                        </template>\n                    </template>\n                </v-flex>\n            </template>\n        </v-layout>\n        <!-- <pre>{{definition.definitions}}</pre> -->\n    </v-container>\n</template>\n<script>\nimport FilterService from '@/modules/FilterService';\n// import moment from 'moment';\n\nexport default {\n    props: {\n        loadingKeys: {\n            type: Boolean,\n        },\n        'value': {\n            type: Object,\n            required: true,\n        },\n        fields: {\n            type: Array,\n            default () {\n                return []\n            },\n        },\n        definition: {\n            type: Object,\n            default () {\n                return {}\n            },\n        },\n        rows: {\n            type: Array,\n        },\n        // columns: {\n        //     type: Array,\n        // },\n        mini: {\n            type: Boolean,\n        }\n    },\n    beforeCreate: function() {\n        this.$options.components.FilterConditionRow = require('./FilterConditionRow.vue').default;\n        this.$options.components.FilterConditionGroup = require('./FilterConditionGroup.vue').default;\n\n\n    },\n    created() {\n        this.retrieveValues();\n    },\n    data() {\n\n\n        var datePeriodOptions = []\n        var week = (1000 * 60 * 60 * 24) * 7;\n        var now = new Date();\n\n        datePeriodOptions.push({\n            title: 'Next 6 Weeks',\n            date1: now,\n            date2: new Date(new Date().setTime(new Date().getTime() + (week * 6))),\n        });\n\n        datePeriodOptions.push({\n            title: 'Next 2 Weeks',\n            date1: now,\n            date2: new Date(new Date().setTime(new Date().getTime() + (week * 2))),\n        });\n\n        datePeriodOptions.push({\n            title: 'Last 2 Weeks',\n            date1: new Date(new Date().setTime(new Date().getTime() - (week * 2))),\n            date2: now,\n        });\n\n        datePeriodOptions.push({\n            title: 'Last 6 Weeks',\n            date1: new Date(new Date().setTime(new Date().getTime() - (week * 4))),\n            date2: now,\n        });\n\n\n\n\n        return {\n\n            //Date Select Stuff\n            datePeriodOptions,\n            // datePeriod: datePeriodOptions[1],\n            possibleValues: [],\n            date1: false,\n            date2: false,\n            loadingValues: false,\n            model: JSON.parse(JSON.stringify(this.value)),\n        }\n    },\n    computed: {\n        weekdays() {\n            return [{\n                    title: 'Sunday',\n                    value: 0,\n                },\n                {\n                    title: 'Monday',\n                    value: 1,\n                },\n                {\n                    title: 'Tuesday',\n                    value: 2,\n                },\n                {\n                    title: 'Wednesday',\n                    value: 3,\n                },\n                {\n                    title: 'Thursday',\n                    value: 4,\n                },\n                {\n                    title: 'Friday',\n                    value: 5,\n                },\n                {\n                    title: 'Saturday',\n                    value: 6,\n                },\n\n            ]\n        },\n        readableStartDate() {\n            var self = this;\n            return self.$fluro.date.formatDate(self.model.value, 'D MMM YYYY');\n        },\n        readableEndDate() {\n            var self = this;\n            return self.$fluro.date.formatDate(self.model.value2, 'D MMM YYYY');\n        },\n        startDateString: {\n            get() {\n                if (!this.model.value) {\n                    return '';\n                }\n                return new Date(this.model.value).toISOString().substr(0, 10);\n            },\n            set(value) {\n                console.log('Set the value')\n                this.$set(this.model, 'value', new Date(value));\n            }\n        },\n        endDateString: {\n            get() {\n\n                if (!this.model.value2) {\n                    return '';\n                }\n                return new Date(this.model.value2).toISOString().substr(0, 10);\n            },\n            set(value) {\n                this.$set(this.model, 'value2', new Date(value));\n            }\n        },\n        requiresManualInput() {\n            switch (this.model.comparator) {\n                case 'startswith':\n                case 'endswith':\n                case 'doesnotstartwith':\n                case 'doesnotendwith':\n                case 'like':\n                case 'contains':\n                case 'excludes':\n                case 'startswith':\n                case 'startswith':\n                    return true;\n                    break;\n            }\n        },\n        rowChangeString() {\n\n            // //console.log('CHANGE STRING!', this.model.key, this.rows.length)\n            return `${this.discriminatorDefinition}-${this.discriminatorType}${this.discriminator}-${this.model.key}-${_.orderBy(this.$fluro.utils.arrayIDs(this.rows), function(r) {\n                return r;\n            }).toString()}`;\n        },\n        selector() {\n            var key = this.model.key;\n\n            if (!this.fields) {\n                return;\n            }\n\n            return _.find(this.fields, { key });\n\n\n\n        },\n\n        valid() {\n            return FilterService.isValidFilter(this.model);\n        },\n        comparator() {\n            return FilterService.comparatorLookup[this.model.comparator];\n        },\n        inputType() {\n            return this.comparator.inputType;\n        },\n        dataType() {\n            if (this.selector) {\n                return this.selector.type || 'string';\n            } else {\n                return 'string';\n            }\n        },\n        discriminatorType() {\n            if (this.selector) {\n                return this.selector._discriminatorType;\n            } else {\n                return;\n            }\n        },\n        discriminatorDefinition() {\n            if (this.selector) {\n                return this.selector._discriminatorDefinition;\n            } else {\n                return;\n            }\n        },\n        discriminator() {\n            if (this.selector) {\n                return this.selector._discriminator;\n            } else {\n                return;\n            }\n        },\n        comparators() {\n\n            var type = 'string';\n            if (this.selector) {\n                type = this.selector.type || 'string';\n            }\n            return FilterService.getComparatorsForType(type);\n\n\n\n        }\n    },\n    watch: {\n        'model.key': function() {\n\n            this.$set(this.model, 'value', null);\n            this.$set(this.model, 'value2', null);\n            this.$set(this.model, 'values', []);\n            ////console.log('Cleared')\n\n        },\n        selector() {\n            if (this.selector) {\n                this.model.key = this.selector.key;\n            } else {\n                this.model.key = '';\n            }\n        },\n        'model': {\n            handler: function() {\n                this.$emit('input', this.model);\n            },\n            deep: true,\n        },\n        rowChangeString(d) {\n\n            // //console.log('Got the row!');\n            // this.possibleValues = [];\n            this.retrieveValues();\n        }\n    },\n    methods: {\n        selectDatePeriod(option) {\n            this.model.value = option.date1;\n            this.model.value2 = option.date2;\n        },\n        retrieveValues() {\n\n\n\n            var self = this;\n            var key = this.model.key;\n\n            //If we have no key then there are no possible values\n            if (!key || !key.length) {\n                //console.log('Values > No key so clear values');\n                self.possibleValues = [];\n                this.loadingValues = false;\n                return;\n            }\n\n            ////////////////////////////////////\n\n            //There are no rows\n            if (!self.rows || !self.rows.length) {\n                //console.log('Values > No rows')\n                self.possibleValues = [];\n                this.loadingValues = false;\n                return;\n            }\n\n            ////////////////////////////////\n            ////////////////////////////////\n            ////////////////////////////////\n            ////////////////////////////////\n\n            var dataType = self.dataType;\n            // console.log('Retrieve Values', key, self.dataType)\n\n            //For certain data types we already know\n            //the options available\n            switch (dataType) {\n                case 'date':\n                case 'number':\n                case 'float':\n                case 'integer':\n                case 'decimal':\n                    //console.log('Values > No values, numeric input')\n                    return self.possibleValues = [];\n                    break;\n                case 'boolean':\n                    //console.log('Values > Boolean Default')\n                    return self.possibleValues = [true, false];\n                    break;\n                default:\n                    switch (key) {\n                        case 'definition':\n                            if (self.definition && self.definition.definitions) {\n                                return self.possibleValues = _.map(self.definition.definitions, function(def) {\n                                    return { title: def.title, _id: def.definitionName };\n                                })\n                            }\n                            break;\n                        case 'status':\n\n                            switch (_.get(self, 'definition.type.definitionName')) {\n                                case 'contact':\n                                    return self.possibleValues = ['active', 'draft', 'archived', 'deceased'];\n                                    break;\n                                case 'purchase':\n                                    return self.possibleValues = ['active', 'cancelled', 'expired', 'failed', 'archived', ];\n                                    break;\n                                default:\n                                    return self.possibleValues = ['active', 'draft', 'archived', 'template'];\n                                    break;\n                            }\n\n\n                            break;\n                        case 'gender':\n                            return self.possibleValues = ['male', 'female', 'unknown'];\n                            break;\n                    }\n                    break\n            }\n\n            ////////////////////////////////////\n\n            //Show feedback to the user that we are loading\n            //the values for them\n            this.loadingValues = true;\n\n            ////////////////////////////////////\n\n            //Get the storage cache\n            var valueStorageCache = this.$fluro.cache.get('filter-distinct-values');\n\n            ////////////////////////////////////\n\n            //Check to see if there is already a cached set of values\n            //for this query\n            var valueCache = valueStorageCache[self.rowChangeString];\n\n\n            ////////////////////////////////////\n            ////////////////////////////////////\n            ////////////////////////////////////\n\n            //If we haven't already got the values for this request\n            if (!valueCache) {\n\n\n                //Check to see if the rows we know about already have the data\n                //we are wanting to search on, because if so we can just use those\n                //values instead of having to request from the server\n                //\n\n\n                var rawRowsAlreadyHaveKey = _.some(self.rows, function(row) {\n                    return row.hasOwnProperty(key);\n                });\n\n                ////////////////////////////////////\n\n                //We need to do this so we actually load the definitions from the server not rely\n                //on the content in the list\n                // if(self.discriminatorDefinition || self.discriminatorType  || self.discriminator) {\n                //     rawRowsAlreadyHaveKey = false;\n                // }\n                ////////////////////////////////////\n                ////////////////////////////////////\n\n                //If we already know the options then send them back and resolve\n                if (rawRowsAlreadyHaveKey) {\n\n                    //At this point we have a list of the nodes they are allowed to view\n                    self.possibleValues = _.chain(self.rows)\n                        .map(key)\n                        .flatten()\n                        .compact()\n                        .uniqBy(function(val) {\n                            return val.title || val.name || String(val)\n                        })\n                        .orderBy(function(val) {\n                            return val.title || val.name || String(val)\n                        })\n                        .value();\n\n                    ///////////////////////////\n\n                    //Save and cache the values\n                    valueCache = valueStorageCache[self.rowChangeString] = Promise.resolve(self.possibleValues);\n                    console.log('We Already have the key of', key);\n                } else {\n\n                    // console.log('No rows have the key', key, self.rows);\n                    //Get all the ids\n                    var subSetIDs = _.map(self.rows, '_id');\n\n                    //We need to make an asynchronous request to the server\n                    //to find out what values we can filter by\n                    var options = {}\n\n\n                    ///////////////////////////////////////////////////////\n                    //If it's a reference type, tell Fluro to populate it\n                    //so we can display a human readable title for them\n                    if (self.dataType == 'reference') {\n                        if (!options.params) {\n                            options.params = {};\n                        }\n                        options.params.populate = true;\n                    }\n\n                    ///////////////////////////////////////////////////////\n                    //Check if there are any discriminators that have been specified\n                    var discriminatorDefinition = self.discriminatorDefinition; //_.get(self, 'selector._discriminatorDefinition');\n                    if (discriminatorDefinition && discriminatorDefinition.length) {\n                        if (!options.params) {\n                            options.params = {};\n                        }\n                        options.params.definition = discriminatorDefinition;\n                    }\n\n                    ///////////////////////////////////////////////////////\n                    //Check if there are any discriminators that have been specified\n                    var discriminatorType = self.discriminatorType; //_.get(self, 'selector._discriminatorType');\n                    if (discriminatorType && discriminatorType.length) {\n                        if (!options.params) {\n                            options.params = {};\n                        }\n                        options.params.discriminatorType = discriminatorType;\n                    }\n\n                    ///////////////////////////////////////////////////////\n                    //Check if there are any discriminators that have been specified\n                    var discriminator = self.discriminator; //_.get(self, 'selector._discriminator');\n                    if (discriminator && discriminator.length) {\n                        if (!options.params) {\n                            options.params = {};\n                        }\n                        options.params.discriminator = discriminator;\n                    }\n\n                    ///////////////////////////////////////////////////////\n\n\n                    console.log('Retrieve Values for ', key)\n                    //Make the request and cache it\n                    valueCache = valueStorageCache[self.rowChangeString] = self.$fluro.content.values(subSetIDs, key, options);\n                }\n            } else {\n                console.log('Values Cache exists', valueCache)\n            }\n\n            /////////////////////////////////////////////////////////////////\n\n            //When the request is complete\n            valueCache.then(function(res) {\n\n                self.possibleValues = res;\n                self.loadingValues = false;\n            }, function(err) {\n\n                self.possibleValues = [];\n                self.loadingValues = false;\n\n                //Clear the cache request for next time\n                valueStorageCache[self.rowChangeString] = null;\n            });\n\n\n        }\n    },\n    /**\n    asyncComputed: {\n        values: {\n            default: [],\n            get() {\n\n                var self = this;\n                var key = this.model.key;\n\n                if (!key || !key.length) {\n                    return Promise.resolve([]);\n                }\n\n                ////console.log('Lets go get options for', key);\n\n\n                var dataType = self.dataType;\n                switch (dataType) {\n                    case 'number':\n                    case 'float':\n                    case 'integer':\n                    case 'decimal':\n                        return Promise.resolve([]);\n                        break;\n                    case 'boolean':\n                        return Promise.resolve([true, false]);\n                        break;\n                }\n\n\n\n                this.loadingValues = true;\n                ////////////////////////////////////\n\n                return new Promise(function(resolve, reject) {\n\n\n\n                    if (self.rows && self.rows.length) {\n\n                        //Check to see if the rows we know about already have the data\n                        //we are wanting to search on, because if so we can just use that\n                        // var rawRowsAlreadyHaveKey = _.every(self.rows, function(row) {\n                        //     return row.hasOwnProperty(key);\n                        // })\n\n                        // //If we already know the options then send them back and resolve\n                        // if (rawRowsAlreadyHaveKey) {\n                        //     var allOptions = _.chain(self.rows)\n                        //         .map(key)\n                        //         .uniq()\n                        //         .value();\n\n                        //     return resolve(allOptions)\n                        // }\n\n                        //Get all the ids\n                        var subSetIDs = _.map(self.rows, '_id');\n\n                        //We need to make an asynchronous request to the server\n                        //to find out what values we can filter by\n                        // ////console.log('DATA TYPE', self.dataType)\n                        var options = {\n\n                        }\n\n                        if (self.dataType == 'reference') {\n                            options.params = {\n                                populate: true\n                            };\n                        }\n\n                        return self.$fluro.content.values(subSetIDs, key, options).then(function(res) {\n                            resolve(res);\n                            self.loadingValues = false;\n                        }, function(err) {\n                            reject(err);\n                            self.loadingValues = false;\n                        });\n                    }\n\n                    // return resolve([]);\n\n\n                });\n            },\n        }\n    }\n\n    /**/\n}\n</script>\n<style scoped lang=\"scss\">\n.filter-condition-row.mini {\n\n    & /deep/ .v-select,\n    & /deep/ .v-text-field {\n\n        margin: 0;\n        padding: 0;\n\n        .v-label {\n            font-size: 13px;\n        }\n\n\n        .v-input__slot {}\n\n\n        //The slot\n        .v-select__slot,\n        .v-text-field__slot {\n            // background: #ff0066;\n            white-space: nowrap;\n            font-size: 13px;\n            padding: 0;\n            // overflow: hidden;\n        }\n    }\n\n}\n</style>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',{staticClass:\"checkbox-cell\"},[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"small\":\"\",\"icon\":\"\"}},[_c('span',{staticClass:\"checkbox-outer\",class:{active:_vm.checked}},[_c('fluro-icon',{attrs:{\"library\":\"fas\",\"icon\":\"check\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <th class=\"checkbox-cell\">\n        <v-btn small class=\"ma-0\" icon>\n            <span class=\"checkbox-outer\" :class=\"{active:checked}\">\n                <!-- :library=\"library\" -->\n                <!-- <fluro-icon  :icon=\"icon\"/> -->\n                <fluro-icon library=\"fas\"  icon=\"check\" />\n            </span>\n        </v-btn>\n    </th>\n</template>\n<script>\n/////////////////////////////////\n\nexport default {\n    props: {\n        'checked': {\n            type: Boolean,\n        },\n    },\n    data() {\n        return {\n        }\n    },\n    computed: {\n        library() {\n            if (this.checked) {\n                return 'fas';\n            } else {\n                return;\n            }\n        },\n        icon() {\n            if (this.checked) {\n                return 'check-square';\n            } else {\n                return 'square';\n            }\n        },\n        // selected() {\n        //     return this.$selection.isSelected(this.value)\n        // }\n    }\n}\n</script>\n<style scoped lang=\"scss\">\n.v-btn {\n\n\n    .checkbox-outer {\n        background: #fff;\n        border-radius: 2px;\n        border: 2px solid rgba(#000, 0.2);\n        width: 18px;\n        height: 18px;\n        display: inline-block;\n        padding: 0;\n        margin: 0;\n        line-height: 18px;\n        text-align: center;\n        font-size: 12px;\n\n\n        svg {\n            opacity: 0;\n        }\n\n        &.active {\n            background: $success; // #4cc650;\n            color: #fff;\n            border-color: $success !important;\n\n            svg {\n                opacity: 1;\n            }\n        }\n\n        \n    }\n\n    &:hover {\n        .checkbox-outer {\n             border: 2px solid rgba(#000, 0.5);\n            svg {\n                opacity: 0.5;\n            }\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableRowCheckbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableRowCheckbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableRowCheckbox.vue?vue&type=template&id=7704fcaa&scoped=true&\"\nimport script from \"./TableRowCheckbox.vue?vue&type=script&lang=js&\"\nexport * from \"./TableRowCheckbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableRowCheckbox.vue?vue&type=style&index=0&id=7704fcaa&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7704fcaa\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\ninstallComponents(component, {VBtn})\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","exports.f = {}.propertyIsEnumerable;\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","<template>\n    <td :class=\"{'text-xs-center':column.align == 'center', 'text-xs-right':column.align =='right'}\">\n        <component v-if=\"column.renderer\" :data=\"rawValue\" :is=\"column.renderer\" :row=\"row\" :column=\"column\" />\n        <slot v-else :value=\"value\" :row=\"row\" :column=\"column\">\n            {{value}}\n        </slot>\n    </td>\n</template>\n<script>\n/////////////////////////////////\n\nexport default {\n    props: {\n        'column': {\n            type: Object,\n        },\n        'row': {\n            type: Object,\n        },\n    },\n    computed: {\n        key() {\n            return this.column.key;\n        },\n        rawValue() {\n            return _.get(this.row, this.key);\n        },\n        value() {\n            var val = this.rawValue;\n\n            ///////////////////////////////\n\n            //If there is an array\n            if (_.isArray(val)) {\n                return _.chain(val)\n                    .compact()\n                    .map(function(object) {\n                        return object.title || object.name;\n                    })\n                    .compact()\n                    .value()\n                    .slice(0, 10)\n                    .join(', ');\n            }\n\n            ///////////////////////////////\n\n            if (_.isObject(val)) {\n\n                if (val._type == 'event') {\n                    return val.title + '<span class=\"text-muted\"> // ' + this.$fluro.formatDate(val.startDate, 'h:mma dddd D MMM, Y') + '</span>';\n                }\n\n                return val.title || val.name;\n            }\n\n            return val;\n\n\n        },\n    }\n}\n</script>\n<style scoped lang=\"scss\">\n</style>","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',{staticClass:\"ma-0\",attrs:{\"small\":\"\",\"icon\":\"\"}},[_c('span',{staticClass:\"checkbox-outer\",class:{active:_vm.all, some:_vm.some}},[_c('fluro-icon',{attrs:{\"library\":\"fas\",\"icon\":_vm.icon}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <!-- <th> -->\n        <v-btn small class=\"ma-0\" icon>\n            <span class=\"checkbox-outer\" :class=\"{active:all, some:some}\">\n                <fluro-icon library=\"fas\" :icon=\"icon\" />\n            </span>\n        </v-btn>\n    <!-- </th> -->\n</template>\n<script>\n/////////////////////////////////\n\nexport default {\n    props: {\n        all: {\n            type: Boolean,\n        },\n        some: {\n            type: Boolean,\n        },\n    },\n    computed: {\n        icon() {\n            if(!this.all && this.some) {\n                return 'minus';\n            }\n\n            return 'check';\n        }\n    }\n}\n</script>\n<style scoped lang=\"scss\">\n.v-btn {\n\n\n    .checkbox-outer {\n        background: #fff;\n        border-radius: 2px;\n        border: 2px solid rgba(#000, 0.2);\n        width: 18px;\n        height: 18px;\n        display: inline-block;\n        padding: 0;\n        margin: 0;\n        line-height: 18px;\n        text-align: center;\n        font-size: 12px;\n\n        svg {\n            opacity: 0;\n        }\n\n        &.some {\n            color: $warning;\n            svg {\n                opacity: 1;\n            }\n        }\n\n        &.active {\n            background: $success;\n            color: #fff;\n            border-color: $success !important;\n\n            svg {\n                opacity: 1;\n            }\n        }\n\n\n    }\n\n    &:hover {\n        .checkbox-outer {\n            border: 2px solid rgba(#000, 0.5);\n            svg {\n                opacity: 0.5;\n            }\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHeaderCheckbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHeaderCheckbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableHeaderCheckbox.vue?vue&type=template&id=1f67704f&scoped=true&\"\nimport script from \"./TableHeaderCheckbox.vue?vue&type=script&lang=js&\"\nexport * from \"./TableHeaderCheckbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TableHeaderCheckbox.vue?vue&type=style&index=0&id=1f67704f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f67704f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\ninstallComponents(component, {VBtn})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHeaderCheckbox.vue?vue&type=style&index=0&id=1f67704f&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableHeaderCheckbox.vue?vue&type=style&index=0&id=1f67704f&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',{class:{'text-xs-center':_vm.column.align == 'center', 'text-xs-right':_vm.column.align =='right'}},[(_vm.column.renderer)?_c(_vm.column.renderer,{tag:\"component\",attrs:{\"data\":_vm.rawValue,\"row\":_vm.row,\"column\":_vm.column}}):_vm._t(\"default\",[_vm._v(\"\\n        \"+_vm._s(_vm.value)+\"\\n    \")],{\"value\":_vm.value,\"row\":_vm.row,\"column\":_vm.column})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableCell.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableCell.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TableCell.vue?vue&type=template&id=5c6b9b00&scoped=true&\"\nimport script from \"./TableCell.vue?vue&type=script&lang=js&\"\nexport * from \"./TableCell.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c6b9b00\",\n  null\n  \n)\n\nexport default component.exports","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Table.vue?vue&type=style&index=0&lang=scss&\"","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"filter-condition-row\",class:{mini:_vm.mini},attrs:{\"pa-0\":\"\"}},[_c('v-layout',[_c('v-flex',{attrs:{\"xs4\":\"\"}},[(_vm.fields.length)?[(_vm.$vuetify.breakpoint.xsOnly)?[_c('v-select',{attrs:{\"single-line\":\"\",\"dense\":\"\",\"loading\":_vm.loadingKeys,\"item-text\":\"title\",\"item-value\":\"key\",\"items\":_vm.fields},model:{value:(_vm.model.key),callback:function ($$v) {_vm.$set(_vm.model, \"key\", $$v)},expression:\"model.key\"}})]:[_c('v-autocomplete',{attrs:{\"single-line\":\"\",\"dense\":\"\",\"loading\":_vm.loadingKeys,\"item-text\":\"title\",\"item-value\":\"key\",\"items\":_vm.fields},model:{value:(_vm.model.key),callback:function ($$v) {_vm.$set(_vm.model, \"key\", $$v)},expression:\"model.key\"}})]]:[_c('v-text-field',{attrs:{\"single-line\":\"\",\"label\":\"\"},model:{value:(_vm.model.key),callback:function ($$v) {_vm.$set(_vm.model, \"key\", $$v)},expression:\"model.key\"}})]],2),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-select',{attrs:{\"single-line\":\"\",\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"operator\",\"items\":_vm.comparators},model:{value:(_vm.model.comparator),callback:function ($$v) {_vm.$set(_vm.model, \"comparator\", $$v)},expression:\"model.comparator\"}})],1),(_vm.comparator)?[(_vm.inputType == 'none')?void 0:(_vm.inputType == 'daterange')?_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-menu',{ref:\"dateSelection\",attrs:{\"fixed\":true,\"right\":true,\"close-on-content-click\":false,\"transition\":\"slide-y-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"ma-0\",attrs:{\"small\":\"\",\"flat\":\"\",\"block\":\"\"}},on),[_c('fluro-icon',{attrs:{\"library\":\"far\",\"icon\":\"calendar\",\"left\":\"\"}}),_vm._v(\" \"+_vm._s(_vm.readableStartDate)+\" - \"+_vm._s(_vm.readableEndDate)+\"\\n                        \")],1)]}}],null,false,3011863967)},[_c('v-card',[_c('v-layout',[_c('v-flex',[_c('v-card-text',[_c('label',[_vm._v(\"\")]),_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.datePeriodOptions),function(option){return _c('v-list-tile',{key:option.value,on:{\"click\":function($event){return _vm.selectDatePeriod(option)}}},[_vm._v(\"\\n                                            \"+_vm._s(option.title)+\"\\n                                        \")])}),1)],1)],1),_c('v-flex',[_c('v-card-text',{staticClass:\"text-sm-center\"},[_c('label',[_vm._v(\"From Date\")])]),_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.startDateString),callback:function ($$v) {_vm.startDateString=$$v},expression:\"startDateString\"}})],1),_c('v-flex',[_c('v-card-text',{staticClass:\"text-sm-center\"},[_c('label',[_vm._v(\"To Date\")])]),_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.endDateString),callback:function ($$v) {_vm.endDateString=$$v},expression:\"endDateString\"}})],1)],1)],1)],1)],1):(_vm.inputType == 'range')?_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-text-field',{staticClass:\"small-input\",attrs:{\"single-line\":\"\",\"label\":\"from\"},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}})],1),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-text-field',{staticClass:\"small-input\",attrs:{\"single-line\":\"\",\"label\":\"to\"},model:{value:(_vm.model.value2),callback:function ($$v) {_vm.$set(_vm.model, \"value2\", $$v)},expression:\"model.value2\"}})],1)],1)],1):(_vm.inputType == 'array')?_c('v-flex',{attrs:{\"xs4\":\"\"}},[(_vm.$vuetify.breakpoint.xsOnly)?[_c('v-select',{staticClass:\"small-input\",attrs:{\"multiple\":\"\",\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"_id\",\"loading\":_vm.loadingValues,\"items\":_vm.possibleValues},model:{value:(_vm.model.values),callback:function ($$v) {_vm.$set(_vm.model, \"values\", $$v)},expression:\"model.values\"}})]:[_c('v-autocomplete',{staticClass:\"small-input\",attrs:{\"multiple\":\"\",\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"_id\",\"loading\":_vm.loadingValues,\"items\":_vm.possibleValues},model:{value:(_vm.model.values),callback:function ($$v) {_vm.$set(_vm.model, \"values\", $$v)},expression:\"model.values\"}})]],2):_c('v-flex',{attrs:{\"xs4\":\"\"}},[(_vm.dataType == 'date')?[(_vm.model.comparator == 'datesameweekday')?[_c('v-select',{attrs:{\"single-line\":\"\",\"multiple\":\"\",\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"value\",\"items\":_vm.weekdays},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}})]:[_c('v-menu',{ref:\"date1\",attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"lazy\":\"\",\"transition\":\"scale-transition\",\"offset-y\":\"\",\"full-width\":\"\",\"min-width\":\"290px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({staticClass:\"small-input\",attrs:{\"single-line\":\"\",\"label\":\"Date\"},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}},on))]}}],null,false,1640910648),model:{value:(_vm.date1),callback:function ($$v) {_vm.date1=$$v},expression:\"date1\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"scrollable\":\"\"},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.date1 = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.date1.save(_vm.model.value)}}},[_vm._v(\"OK\")])],1)],1)]]:(_vm.dataType == 'number' || _vm.dataType == 'float' || _vm.dataType == 'decimal')?_c('v-text-field',{staticClass:\"small-input\",attrs:{\"single-line\":\"\"},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}}):(_vm.dataType == 'integer')?_c('v-text-field',{staticClass:\"small-input\",attrs:{\"single-line\":\"\",\"mask\":\"############\"},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}}):(_vm.dataType =='reference')?[(_vm.$vuetify.breakpoint.xsOnly)?[_c('v-select',{staticClass:\"small-input\",attrs:{\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"_id\",\"loading\":_vm.loadingValues,\"items\":_vm.possibleValues},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}})]:[_c('v-autocomplete',{staticClass:\"small-input\",attrs:{\"dense\":\"\",\"item-text\":\"title\",\"item-value\":\"_id\",\"loading\":_vm.loadingValues,\"items\":_vm.possibleValues},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}})]]:[(_vm.requiresManualInput)?[_c('v-text-field',{staticClass:\"small-input\",attrs:{\"single-line\":\"\"},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}})]:[(_vm.$vuetify.breakpoint.xsOnly)?[_c('v-select',{staticClass:\"small-input\",attrs:{\"dense\":\"\",\"loading\":_vm.loadingValues,\"items\":_vm.possibleValues},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}})]:[_c('v-autocomplete',{staticClass:\"small-input\",attrs:{\"dense\":\"\",\"loading\":_vm.loadingValues,\"items\":_vm.possibleValues},model:{value:(_vm.model.value),callback:function ($$v) {_vm.$set(_vm.model, \"value\", $$v)},expression:\"model.value\"}})]]]],2)]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterConditionRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterConditionRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterConditionRow.vue?vue&type=template&id=6799bd5c&scoped=true&\"\nimport script from \"./FilterConditionRow.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterConditionRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterConditionRow.vue?vue&type=style&index=0&id=6799bd5c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6799bd5c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDatePicker } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VList } from 'vuetify/lib'\nimport { VListTile } from 'vuetify/lib'\nimport { VMenu } from 'vuetify/lib'\nimport { VSelect } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardText,VContainer,VDatePicker,VFlex,VLayout,VList,VListTile,VMenu,VSelect,VSpacer,VTextField})\n","<template>\n    <div class=\"fluro-table-wrapper\">\n        <!-- <pre>{{rawPage}}</pre> -->\n        <!-- <pre>{{totalPages}}</pre> -->\n        <!-- <pre>{{totalPages.length}}</pre> -->\n        <fluro-page-preloader v-if=\"showLoading\" contain />\n        <v-container class=\"flex-center\" v-if=\"rows.length && !sorted.length\">\n            <slot name=\"emptytext\">\n                No results were found matching your criteria\n            </slot>\n        </v-container>\n        <template v-else>\n            <div ref=\"scrollableArea\" class=\"fluro-table-scroll\" :class=\"{loading:showLoading}\">\n                <span ref=\"top\"></span>\n                <table class=\"fluro-table-main no-select\">\n                    <thead>\n                        <tr>\n                            <th class=\"shrink checkbox-cell\" v-if=\"selectionEnabled\">\n                                <v-menu @click.native.stop offset-y>\n                                    <template v-slot:activator=\"{ on }\">\n                                        <div v-on=\"on\">\n                                            <div is=\"table-header-checkbox\" :all=\"allSelected\" :some=\"someSelected\" />\n                                        </div>\n                                    </template>\n                                    <v-card tile>\n                                        <v-list dense>\n                                            <v-list-tile v-if=\"!allSelected\" @click=\"selectPage()\">\n                                                <v-list-tile-content>\n                                                    <v-list-tile-title>\n                                                        Select this page\n                                                    </v-list-tile-title>\n                                                </v-list-tile-content>\n                                            </v-list-tile>\n                                            <v-list-tile v-if=\"someSelected\" @click=\"deselectPage()\">\n                                                <v-list-tile-content>\n                                                    <v-list-tile-title>\n                                                        Deselect this page\n                                                    </v-list-tile-title>\n                                                </v-list-tile-content>\n                                            </v-list-tile>\n                                            <v-list-tile v-if=\"filteredTotal\" @click=\"selectAll()\">\n                                                <v-list-tile-content>\n                                                    <v-list-tile-title>\n                                                        Select all {{filteredTotal}} items\n                                                    </v-list-tile-title>\n                                                </v-list-tile-content>\n                                            </v-list-tile>\n                                            <v-list-tile @click=\"deselectAll()\" v-if=\"$selection.selection.length\">\n                                                <v-list-tile-content>\n                                                    <v-list-tile-title>\n                                                        Deselect all {{filteredTotal}} items\n                                                    </v-list-tile-title>\n                                                </v-list-tile-content>\n                                            </v-list-tile>\n                                        </v-list>\n                                    </v-card>\n                                </v-menu>\n                            </th>\n                            <th @click=\"toggleSort(column)\" :class=\"{'shrink':column.shrink, sortable:isSortable(column), 'sorting':sort.sortKey == column.key, 'text-xs-center':column.align == 'center', 'text-xs-right':column.align =='right'}\" v-for=\"column in columns\">\n                                <div class=\"sort-icon\" v-if=\"sort.sortKey == column.key\">\n                                    <fluro-icon library=\"fas\" icon=\"caret-down\" v-if=\"sort.sortDirection == 'desc'\" />\n                                    <fluro-icon library=\"fas\" icon=\"caret-up\" v-if=\"sort.sortDirection == 'asc'\" />\n                                </div>\n                                {{column.title}}\n                            </th>\n                            <th class=\"shrink\">\n                                <v-btn class=\"ma-0\" small icon @click.stop.prevent=\"toggleConfiguration()\">\n                                    <fluro-icon icon=\"cog\" />\n                                </v-btn>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <template v-if=\"grouped\">\n                            <template v-for=\"group in grouped\">\n                                <tr class=\"breaker\" v-if=\"group.title\">\n                                    <th></th>\n                                    <!-- <td></td> -->\n                                    <!-- <th is=\"table-row-checkbox\" :checked=\"$selection.allSelected(group)\"/> -->\n                                    <td :colspan=\"1 + columns.length\">{{group.title}}</td>\n                                </tr>\n                                <tr :class=\"classes(item)\" :key=\"item._id\" v-for=\"(item, key) in group.items\">\n                                    <template v-if=\"item._populating\">\n                                        <!-- <th>TEST {{selection.isSelected(item)}}</th> -->\n                                        <th is=\"table-row-checkbox\" />\n                                        <td @click.native=\"clicked(item, column, key)\" :colspan=\"columns.length\">-</td>\n                                        <th class=\"shrink\">\n                                        </th>\n                                    </template>\n                                    <template v-else>\n                                        <th is=\"table-row-checkbox\" :checked=\"$selection.isSelected(item)\" @click.native.stop.prevent=\"checkboxClick(item, $event, item._pageIndex)\" :value=\"item\" />\n                                        <table-cell @click.native=\"clicked(item, column, key)\" :row=\"item\" v-for=\"column in columns\" :class=\"{'sorting':sort.sortKey == column.key}\" :column=\"column\"></table-cell>\n                                        <th class=\"shrink\">\n                                            <div class=\"action-buttons\">\n                                                <!-- <pre>{{item._relevance}}</pre> -->\n                                                <!-- <v-btn class=\"ma-0\" v-if=\"$vuetify.breakpoint.mdAndUp\" small icon>\n                                            <fluro-icon icon=\"pencil\" />\n                                        </v-btn> -->\n                                                <v-btn class=\"ma-0\" small icon @click.stop.prevent=\"$actions.open([item])\">\n                                                    <fluro-icon icon=\"ellipsis-h\" />\n                                                </v-btn>\n                                                <!--  <v-btn class=\"ma-0\" v-if=\"$vuetify.breakpoint.mdAndUp\" small icon>\n                                            <fluro-icon icon=\"trash-alt\" />\n                                        </v-btn> -->\n                                            </div>\n                                        </th>\n                                    </template>\n                                </tr>\n                            </template>\n                        </template>\n                        <template v-else>\n                            <tr :class=\"classes(item)\" :key=\"item._id\" v-for=\"(item, key) in page\">\n                                <template v-if=\"item._populating\">\n                                    <!-- <th>TEST {{selection.isSelected(item)}}</th> -->\n                                    <th is=\"table-row-checkbox\" v-if=\"selectionEnabled\" />\n                                    <td @click.native=\"clicked(item, column, key)\" :colspan=\"columns.length\">-</td>\n                                    <th class=\"shrink\">\n                                    </th>\n                                </template>\n                                <template v-else>\n                                    <th is=\"table-row-checkbox\" v-if=\"selectionEnabled\" :checked=\"$selection.isSelected(item)\" @click.native.stop.prevent=\"checkboxClick(item, $event, key)\" :value=\"item\" />\n                                    <table-cell @click.native=\"clicked(item, column, key)\" :row=\"item\" v-for=\"column in columns\" :class=\"{'sorting':sort.sortKey == column.key}\" :column=\"column\"></table-cell>\n                                    <th class=\"shrink\">\n                                        <div class=\"action-buttons\">\n                                            <!-- <pre>{{item._relevance}}</pre> -->\n                                            <!-- <v-btn class=\"ma-0\" v-if=\"$vuetify.breakpoint.mdAndUp\" small icon>\n                                            <fluro-icon icon=\"pencil\" />\n                                        </v-btn> -->\n                                            <v-btn class=\"ma-0\" small icon @click.stop.prevent=\"$actions.open([item])\">\n                                                <fluro-icon icon=\"ellipsis-h\" />\n                                            </v-btn>\n                                            <!--  <v-btn class=\"ma-0\" v-if=\"$vuetify.breakpoint.mdAndUp\" small icon>\n                                            <fluro-icon icon=\"trash-alt\" />\n                                        </v-btn> -->\n                                        </div>\n                                    </th>\n                                </template>\n                            </tr>\n                        </template>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"footer-stats\">\n                <v-layout row wrap>\n                    <template v-if=\"!totalPages\">\n                        <v-flex class=\"text-muted\">\n                            No matches\n                        </v-flex>\n                    </template>\n                    <template v-else>\n                        <v-flex xs6 align-center d-flex class=\"text-muted\">\n                            {{startOffset + 1 | numberWithCommas}} to {{endOffset | numberWithCommas}} of {{filteredTotal | numberWithCommas}} matches\n                            <!-- </div> -->\n                        </v-flex>\n                        <v-flex xs6 align-center d-flex class=\"text-xs-right\">\n                            <div>\n                                <span v-if=\"$vuetify.breakpoint.smAndUp\" class=\"text-muted\">Page {{currentPage}} of {{totalPages}}</span>\n                                <span class=\"ml-3\">\n                                    <template>\n                                        <v-btn class=\"ma-0\" :disabled=\"previousPageDisabled\" icon @click=\"firstPage()\">\n                                            <fluro-icon icon=\"arrow-to-left\" />\n                                        </v-btn>\n                                        <v-btn class=\"ma-0\" :disabled=\"previousPageDisabled\" icon @click=\"previousPage()\">\n                                            <fluro-icon icon=\"arrow-left\" />\n                                        </v-btn>\n                                    </template>\n                                    <template>\n                                        <v-btn class=\"ma-0\" :disabled=\"nextPageDisabled\" icon @click=\"nextPage()\">\n                                            <fluro-icon icon=\"arrow-right\" />\n                                        </v-btn>\n                                        <v-btn class=\"ma-0\" :disabled=\"nextPageDisabled\" icon @click=\"lastPage()\">\n                                            <fluro-icon icon=\"arrow-to-right\" />\n                                        </v-btn>\n                                    </template>\n                                </span>\n                            </div>\n                        </v-flex>\n                    </template>\n                </v-layout>\n            </div>\n        </template>\n        <!-- <template v-else>\n            <v-container class=\"flex-center\" v-if=\"!showLoading\">\n                No results found matching your criteria\n            </v-container>\n        </template> -->\n    </div>\n</template>\n<script>\nimport TableHeaderCheckbox from './TableHeaderCheckbox.vue';\nimport TableRowCheckbox from './TableRowCheckbox.vue';\nimport TableCell from './TableCell.vue';\n\n/////////////////////////////////\n\nimport axios from 'axios';\nconst CancelToken = axios.CancelToken;\n\nimport FilterService from '@/modules/FilterService';\n\n/////////////////////////////////\n/////////////////////////////////\n\nvar currentRawRequest;\nvar currentPageItemsRequest;\n/////////////////////////////////\n\nvar MAX_ROWS = 100000; //100000;\nvar MAX_CHUNK_SIZE = 5000;\nvar INITIAL = true;\n\n/////////////////////////////////\n\nexport default {\n    props: {\n        defaultFields: {\n            type: Array,\n            default () {\n                return [];\n            }\n        },\n        grouping: {\n            type: Function,\n        },\n        includeArchivedByDefault: {\n            type: Boolean,\n        },\n        enableSelection: {\n            type: Boolean,\n            default: true,\n        },\n        defaultSort: {\n            type: String,\n            default: 'title',\n        },\n\n        defaultSortType: {\n            type: String,\n            default: 'string',\n        },\n        defaultSortDirection: {\n            type: String,\n            default: 'asc',\n        },\n        clicked: {\n            type: Function,\n            default () {\n                // console.log('default')\n                return function(item, column) {\n                    // console.log('clicked', item, column);\n                }\n            }\n        },\n        columns: {\n            type: Array,\n            default () {\n                return [];\n            }\n        },\n        items: {\n            type: Array,\n            default () {\n                return [];\n            }\n        },\n        filterConfig: {\n            type: Object,\n            default () {\n                return {\n                    operator: 'and',\n                    filters: [],\n                }\n            }\n        },\n        initPage: {\n            type: [Number, String],\n            default: 1,\n        },\n        initSort: {\n            type: Object,\n            default () {\n                return {\n                    key: 'title',\n                    direction: 'asc',\n                    type: 'string',\n                }\n            },\n        },\n        pageSize: {\n            type: Number,\n            default: 100,\n        },\n        dataSource: {\n            type: String,\n        },\n        allDefinitions: {\n            type: Boolean,\n        },\n        search: {\n            type: String,\n        },\n        startDate: {\n            type: Date,\n        },\n        endDate: {\n            type: Date,\n        }\n    },\n    data() {\n\n        // var initialFilter = JSON.parse(JSON.stringify(this.startFilter));\n\n\n        // console.log('INITIAL PAGE', this.initPage)\n\n        return {\n            // filterConfig:JSON.parse(JSON.stringify(this.filterConfig)), \n            filtered: [],\n            refined: [],\n            debouncedSearch: this.search,\n            perPage: this.pageSize,\n            loading: false,\n            loadingItems: false,\n            currentPage: parseInt(this.initPage),\n            previousSelectionIndex: -1,\n            sort: JSON.parse(JSON.stringify(this.initSort)),\n            rowsLoaded: 0,\n\n        }\n    },\n    computed: {\n\n        selectionEnabled() {\n            return !(this.enableSelection === false) && this.$selection;\n        },\n        grouped() {\n\n            var self = this;\n\n            if (self.grouping) {\n                return self.grouping(self.page);\n            } else {\n                return;\n            }\n        },\n        excludeArchived() {\n\n            var self = this;\n\n            if (self.includeArchivedByDefault) {\n                return false;\n            }\n\n            ////////////////////////////////////////////////\n\n            var requiresArchivedInResults = _.some(self.activeFilterRows, function(row) {\n\n\n                if (row.key != 'status') {\n                    return;\n                }\n\n                //Check if archived is one of the values\n                var isRelevant = (row.value == 'archived' || _.includes(row.values, 'archived'));\n                var isDeceased = (row.value == 'deceased' || _.includes(row.values, 'deceased'));\n\n                /////////////////////////////////////////\n\n                switch (row.comparator) {\n                    case '==':\n                    case 'startswith':\n                    case 'endswith':\n                    case 'like':\n                    case 'contains':\n                    case 'in':\n                        return isRelevant || isDeceased;\n                        break;\n                    default:\n                        //If it's does not contain then\n                        //return back if archived is not an option\n                        return !isRelevant && !isDeceased;\n                        break;\n                }\n\n\n            })\n\n            //// console.log('REQUIRES ARCHIVE??', requiresArchivedInResults);\n            /////////////////////////////////////////\n\n            return !requiresArchivedInResults;\n        },\n\n        // currentPage: {\n        //     get() {\n        //         return this._currentPage;\n        //     },\n        //     set(input) {\n\n        //         this._currentPage = parseInt(input);\n\n\n\n        //              //Scroll to top\n        //             var topElement = this.$refs.top;\n        //             if (topElement) {\n        //                 topElement.scrollIntoView({\n        //                     // block:'center',\n        //                     // behavior:'smooth',\n        //                 });\n        //             }\n\n        // //     this.$emit('pageChange', this.currentPage);\n        // // },\n\n\n        //     }\n        // },\n        rowsTotal() {\n            return this.rowsLoaded || this.rows.length || MAX_CHUNK_SIZE || MAX_ROWS;\n        },\n        showLoading() {\n            return this.loading || this.loadingItems;\n        },\n\n        activeFilters() {\n            return FilterService.activeFilters(this.filterConfig);\n        },\n        activeFilterRows() {\n            return _.filter(this.activeFilters, function(row) {\n                return row.comparator && row.comparator.length;\n            })\n        },\n        activeFilterKeys() {\n            return FilterService.activeFilterKeys(this.filterConfig);\n        },\n        activeFilterValues() {\n            return FilterService.activeFilterValues(this.filterConfig);\n        },\n        activeFilterComparators() {\n            return FilterService.activeFilterComparators(this.filterConfig);\n        },\n        activeFilterOperators() {\n            return FilterService.activeFilterComparators(this.filterConfig);\n        },\n        rowCheckString() {\n            // console.log('RECOMPUTE ROWS')\n            var rows = this.rows || [];\n            var ids = _.map(rows, '_id').join('');\n            var keys = _.keys(rows[0]);\n\n            return `${ids}${keys}`;\n            // return _.chain(this.rows).map('_id').orderBy(function(id) {\n            //     return id;\n            // }).join('');\n        },\n        dateWatchString() {\n\n            if (!this.startDate) {\n                return\n            }\n\n            if (!this.endDate) {\n                return\n            }\n\n\n            return String(this.startDate) + String(this.endDate);\n        },\n        filterCheckString() {\n\n            var filterString = FilterService.getFilterChangeString(this.filterConfig);\n            return filterString;\n            // console.log('RECOMPUTE FILTER STRING', filterString, this.rows)\n            // return `${this.rowCheckString}-${filterString}`;\n        },\n        isAsync() {\n            return this.dataSource && this.dataSource.length;\n        },\n        previousPageDisabled() {\n            return this.currentPage <= 1;\n\n        },\n        nextPageDisabled() {\n            return this.currentPage == this.totalPages;\n        },\n\n        sorted() {\n\n\n\n            var self = this;\n            var items = this.refined;\n\n            if (!self.sort || !items.length) {\n                return items; //defaultSort(items);\n            }\n\n            //////////////////////////////////////////////\n\n            // function defaultSort(items) {\n            //     //console.log('DEFAULT SORT!');\n\n            //     return _.chain(items)\n            //     .orderBy(function(item) {\n\n            //         //console.log('RELEVANCE?', item)\n            //         if(item._relevance) {\n            //             var relevanceScore = _.chain(item.relevance).values(item._relevance).sum();\n            //             //console.log('Relevance score', relevanceScore);\n            //             return relevanceScore;\n            //         }\n\n            //         return item.title || item.name || item;\n            //     })\n            //     .value();\n            // }\n\n\n            // console.log('SORTING NOW');\n\n            //////////////////////////////////////////////\n\n            var sortingKey = self.sort.sortKey;\n            var sortingType = self.sort.sortType;\n            var sortingDirection = self.sort.sortDirection;\n\n            //////////////////////////////////////////////\n\n            if (!sortingKey || !sortingKey.length) {\n                sortingKey = self.defaultSort; //'title';\n            }\n\n            if (!sortingType || !sortingType.length) {\n                sortingType = self.defaultSortType; //'string';\n            }\n\n            if (!sortingDirection || !sortingDirection.length) {\n                sortingDirection = self.defaultSortDirection; //'asc';\n            }\n\n\n            // console.log('SORTING KEY', self, sortingKey, sortingType, sortingDirection);\n\n            //////////////////////////////////////////////\n\n            // console.log('Sort items by', sortingKey, items);\n\n            items = _.orderBy(items, function(item) {\n\n                //Get the value\n                var val = _.get(item, sortingKey);\n\n                //If it's an array return the first item in the array\n                if (_.isArray(val) && val.length) {\n                    //Use the first item in the array to sort on\n                    val = val[0];\n                }\n\n                ///////////////////////////////////\n\n                var isNull = (val === undefined || val === null);\n\n\n                ///////////////////////////////////\n\n                switch (sortingType) {\n                    case 'boolean':\n                        if (!val) {\n                            return 0;\n                        } else {\n                            return 1;\n                        }\n                        break;\n                    case 'number':\n                    case 'integer':\n                    case 'decimal':\n                    case 'float':\n                        if (isNull || isNaN(val)) {\n                            return -9999999999999999999999999999999999;\n                        }\n\n                        if (sortingType == 'integer') {\n                            return parseInt(val);\n                        } else {\n                            return parseFloat(val);\n                        }\n                        break;\n                    case 'date':\n\n                        if (isNull) {\n                            return 0;\n                        }\n\n                        var date = new Date(val);\n                        var timestamp = date.getTime();\n\n                        if (isNaN(timestamp)) {\n                            return 0;\n                        } else {\n                            return timestamp;\n                        }\n\n\n                        break;\n                    default:\n\n                        if (_.isObject(val)) {\n\n                            if (val.title) {\n                                val = val.title;\n                            } else {\n                                if (val.name) {\n                                    val = val.name;\n                                }\n                            }\n                        }\n\n                        return String(val).toLowerCase();\n\n                        break;\n                }\n\n            })\n\n            //////////////////////////////////////////////\n\n            if (self.sort.sortDirection == 'desc') {\n                items.reverse();\n            }\n\n            //////////////////////////////////////////////\n\n            // console.log('Sorted', sortingKey, sortingType, sortingDirection, items);\n            return items;\n        },\n        filteredTotal() {\n            return this.refined ? this.refined.length : 0;\n        },\n        availablePages() {\n\n\n            var chunk = _.chunk(this.sorted, this.perPage);\n\n            return chunk;\n        },\n        startOffset() {\n            return Math.floor((this.currentPage - 1) * this.perPage);\n        },\n        endOffset() {\n            return Math.min(this.startOffset + this.perPage, this.filteredTotal);\n        },\n        rawPage() {\n            // console.log('RAW', this.currentPage, this.totalPages)\n            if (this.currentPage > this.totalPages) {\n                return _.first(this.availablePages);\n            } else {\n                return this.availablePages[this.currentPage - 1];\n            }\n        },\n        totalPages() {\n            return this.availablePages ? this.availablePages.length : 0;\n        },\n        allSelected() {\n\n            var self = this;\n\n            if (!self.page || !self.page.length) {\n                return;\n            }\n\n            //Check if any of the rows are not selected\n            var anyNotSelected = _.some(self.page, function(item) {\n                var notSelected = !self.$selection.isSelected(item);\n                return notSelected;\n            })\n\n            return !anyNotSelected;\n        },\n        someSelected() {\n\n            var self = this;\n\n            if (self.allSelected) {\n                return true;\n            }\n\n            return _.some(self.page, function(item) {\n                return self.$selection.isSelected(item);\n            })\n        },\n        selectAllIcon() {\n            if (this.allSelected) {\n                return 'check-square';\n            }\n\n            if (this.someSelected) {\n                return 'minus-square';\n            }\n\n            return 'square';\n\n\n        },\n\n    },\n    asyncComputed: {\n        rows: {\n            default: [],\n            get() {\n                if (currentRawRequest) {\n                    // currentRawRequest.cancel('Operation canceled by the user.');\n                }\n\n                var self = this;\n\n                if (!self.isAsync) {\n                    return Promise.resolve([]);\n                }\n\n\n                //////////////////////////////////////////\n\n                var fields =['_id', 'title', 'status']\n\n                if(self.startDate || self.endDate) {\n                    fields.push('startDate');\n                    fields.push('endDate');\n                }\n                // rawFields() {\n                //     var array = ['_id', 'title', 'status'];\n                //     if(this.defaultFields && this.defaultFields.length) {\n                //         array = array.concat(this.defaultFields);\n                //     }\n\n                //     return array;\n                // },\n\n\n                // fields = fields.concat(this.defaultFields.slice());\n\n                //.concat(['_id', self.defaultSort]);//'title']\n                // , '_type', 'definition']; //, 'tags', 'keywords', 'definition', 'realms'];\n                // var fields = ['_id', 'title']; //, 'tags', 'keywords', 'definition', 'realms'];\n\n                //////////////////////////////////////\n\n                //We also need the field we are sorting on\n                if (self.sort && self.sort.sortKey) {\n                    fields.push(self.sort.sortKey);\n                }\n\n                //////////////////////////////////////\n\n                // fields = fields.concat(_.chain(self.columns)\n                //     .map(function(column) {\n                //         if (column.additionalFields && column.additionalFields.length) {\n                //             return [].concat(column.additionalFields, column.key)\n                //             // console.log('Additional Fields', column.additionalFields)\n                //         }\n\n                //         return column.key\n                //     })\n                //     .flatten()\n                //     .uniq()\n                //     .compact()\n                //     .value());\n\n\n\n                ///////////////////////////////////////\n\n                var EXCLUDE_ARCHIVED = self.excludeArchived;\n                //// console.log('Exclude archived is', EXCLUDE_ARCHIVED);\n\n\n                //////////////////////////////////////////\n\n                //And the fields we are filtering on\n                fields = fields.concat(self.activeFilterKeys)\n\n                // var appendDetailSheets = _.chain(fields)\n                //     .map(function(field) {\n                //         var split = field.split('.');\n                //         if (split[0] == 'details') {\n                //             return split[1];\n                //         }\n                //     })\n                //     .compact()\n                //     .uniq()\n                //     .value();\n\n\n                // var appendFullFamily = _.chain(fields)\n                //     .map(function(field) {\n                //         var split = field.split('.');\n                //         if (split[0] == 'family') {\n                //             return split[1];\n                //         }\n                //     })\n                //     .compact()\n                //     .uniq()\n                //     .value();\n\n                var appendDetailSheets = false;\n                var appendFullFamily = false;\n\n                //////////////////////////////////////////\n\n                self.loadingItems = true;\n                self.rowsLoaded = 0;\n\n\n\n\n                //////////////////////////////////////////\n\n                fields = _.chain(fields).compact().uniq().value();\n                console.log('FIELDS', fields)\n\n                //////////////////////////////////////////\n\n                return new Promise(function(resolve, reject) {\n\n\n                    var i = 0;\n                    var offset = 0;\n                    var memo = [];\n\n                    /////////////////////////////////////////////////\n\n                    function checkBatch(lastBatch) {\n\n                        //If we reached the end of the page\n\n                        var fullChunk = lastBatch.length == MAX_CHUNK_SIZE;\n                        var reachedLimit = (memo.length >= MAX_ROWS);\n\n                        if (fullChunk && !reachedLimit) {\n\n                            i++;\n                            offset = i * MAX_CHUNK_SIZE;\n\n                            console.log('Loading Chunk', i, offset, '-', offset + MAX_CHUNK_SIZE);\n                            return loadNextBatch();\n                        } else {\n\n\n                            resolve(memo);\n                            self.loadingItems = false;\n                            self.$emit('raw', memo);\n\n                            // console.log('ROWS IS LOADED NOW', _.keys(memo[0]))\n                        }\n                    }\n\n\n                    return loadNextBatch();\n\n                    /////////////////////////////////////////////////\n                    /////////////////////////////////////////////////\n                    /////////////////////////////////////////////////\n                    /////////////////////////////////////////////////\n                    /////////////////////////////////////////////////\n\n                    function loadNextBatch() {\n\n\n                        //Create a cancel token\n                        currentRawRequest = CancelToken.source();\n\n                        var parameters = {\n                            fields: fields,\n                            limit: MAX_CHUNK_SIZE,\n                            offset: offset,\n                        }\n\n                        ///////////////////////////////////////\n\n\n                        if (self.dataSource == '/content/contact') {\n                            if (appendDetailSheets && appendDetailSheets.length) {\n                                parameters.appendContactDetail = appendDetailSheets;\n                            }\n\n                            if (appendFullFamily) {\n                                parameters.appendFullFamily = true;\n                            }\n                        }\n\n                        ///////////////////////////////////////\n\n                        if (EXCLUDE_ARCHIVED) {\n                            parameters.excludeArchived = true;\n                        }\n\n\n                        if (self.allDefinitions) {\n                            parameters.allDefinitions = true;\n                        }\n\n                        ///////////////////////////////////////\n\n                        var cacheString = _.chain(JSON.stringify(parameters))\n                            .compact()\n                            .orderBy(function(s) {\n                                return s;\n                            })\n                            .value()\n                            .join('');\n\n                        cacheString = `${self.dataSource}-${cacheString}`;\n\n                        ///////////////////////////////////////\n\n                        var valueStorageCache = self.$fluro.cache.get('async-table-cache');\n                        var cachedValue = valueStorageCache[cacheString];\n\n                        if (cachedValue) {\n                            // console.log('Loaded Chunk From Cache!!', cachedValue)\n\n                            return chunkLoaded(cachedValue);\n                        }\n\n                        ///////////////////////////////////////\n\n                        function chunkLoaded(data) {\n\n\n\n                            //Add the next chunk\n                            memo = memo.concat(data);\n                            self.rowsLoaded += memo.length;\n                            //// console.log('added to memo', res.data.length, memo.length);\n                            return checkBatch(data);\n                        }\n\n                        ///////////////////////////////////////\n\n                        //Load just the IDS from the server and required fields\n                        return self.$fluro.api.get(self.dataSource, {\n                            params: parameters,\n                            cancelToken: currentRawRequest.token,\n                        }).then(function(res) {\n                            //Store in cache for later\n                            valueStorageCache[cacheString] = res.data;\n                            chunkLoaded(res.data);\n\n                        }, function(err) {\n                            if (axios.isCancel(err)) {\n                                // return reject(err);\n                                //console.log('Nothing man!')\n                            } else {\n                                return reject(err);\n                            }\n                        });\n\n                    }\n\n                });\n\n                //////////////////////////////////////////\n\n                /**\n                return new Promise(function(resolve, reject) {\n\n                    /////////////////////////////////////////////////\n\n                    //Create a cancel token\n                    currentRawRequest = CancelToken.source();\n\n                    //////////////////////////////////////////\n\n                    //Load just the IDS from the serveand required fields\n                    return self.$fluro.api.get(self.dataSource, {\n                        params: {\n                            fields: fields,\n                        },\n                        cancelToken: currentRawRequest.token,\n                    }).then(function(res) {\n                        resolve(res.data);\n                        self.loadingItems = false;\n\n                        self.$emit('raw', res.data);\n                    }, function(err) {\n                        if (axios.isCancel(err)) {\n                            // return reject(err);\n                            //console.log('Nothing man!')\n                        } else {\n                            return reject(err);\n                        }\n                    });\n\n\n\n\n\n                });\n\n                /**/\n\n\n\n\n\n            }\n        },\n        page: {\n            default: [],\n            get() {\n\n\n\n                if (currentPageItemsRequest) {\n                    // currentPageItemsRequest.cancel('Operation canceled by the user.');\n                }\n\n                //////////////////////////////////////\n\n                var self = this;\n\n                if (!self.isAsync) {\n                    return Promise.resolve(self.rawPage);\n                }\n\n                //////////////////////////////////////\n\n                // var ids = [];\n                // var lookup = _.reduce(self.rawPage, function(set, entry) {\n                //     var entryID = entry._id;\n                //     ids.push(entryID);\n                //     set[entry._id] = entry;\n                //     return set;\n                // }, {});\n\n                //////////////////////////////////////\n\n                // var ids = _.keys(lookup);\n                var ids = _.map(self.rawPage, '_id');\n\n                if (!ids || !ids.length) {\n                    self.loading = false;\n                    return Promise.resolve([]);\n                }\n\n                //////////////////////////////////////\n\n                var fields = ['title', '_type', 'definition'];\n\n                //////////////////////////////////////\n\n                fields = fields.concat(_.chain(self.columns)\n                    .map(function(column) {\n                        switch (column.key) {\n                            case 'firstName':\n                                return ['firstName', 'preferredName', 'ethnicName']\n                                break;\n                            case 'lastName':\n                                return ['lastName', 'maidenName']\n                                break;\n                        }\n\n                        //////////////////////////////////////\n\n                        if (column.additionalFields && column.additionalFields.length) {\n                            return [].concat(column.additionalFields, column.key)\n                            console.log('Additional Fields', column.additionalFields)\n                        }\n\n                        return column.key;\n                    })\n                    .flatten()\n                    .uniq()\n                    .compact()\n                    .value());\n                //////////////////////////////////////\n\n                self.loading = true;\n\n                //////////////////////////////////////\n\n                return new Promise(function(resolve, reject) {\n\n                    //Create a cancel token\n                    currentPageItemsRequest = CancelToken.source();\n\n                    /////////////////////////////////////////////////\n\n                    self.$fluro.api.get('/content/multiple', {\n                            params: {\n                                ids: ids,\n                                select: fields,\n                                populateAll: true,\n                                limit: ids.length,\n                            },\n                            cancelToken: currentPageItemsRequest.token,\n                        })\n                        .then(function(res) {\n\n                            var lookup = _.reduce(res.data, function(set, entry, i) {\n\n                                set[entry._id] = entry;\n                                return set;\n                            }, {})\n\n                            //// console.log('Look for ids', ids);\n                            var pageItems = _.chain(ids)\n                                .map(function(id, i) {\n                                    var entry = lookup[id];\n                                    entry._pageIndex = i;\n                                    return entry\n\n                                })\n                                .compact()\n                                .value();\n\n                            /////////////////////////////////////\n\n\n\n\n                            resolve(pageItems);\n\n                            /////////////////////////////////////\n\n                            // _.each(res.data, function(fullNode) {\n                            //     var source = lookup[fullNode._id];\n                            //     _.assign(source, fullNode);\n                            //     source._populating = false;\n                            // });\n\n                            // resolve(_.map(self.rawPage);\n                            self.loading = false;\n\n                        }, function(err) {\n                            if (axios.isCancel(err)) {\n                                // return reject(err)\n                            } else {\n                                return reject(err);\n                            }\n                        });\n\n\n                });\n\n\n                // return Promise.resolve(self.rawPage);\n            }\n        }\n    },\n    filters: {\n        numberWithCommas(x) {\n            return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        },\n    },\n    watch: {\n        // refi\n        // refilter() {\n        //     return rows + filterCheckString,\n        // },\n        // :'refilter',\n        items: 'refilter',\n\n        rows: 'refilter',\n        filterCheckString: 'refilter',\n        // debouncedSearch:'refine',\n        search: _.debounce(function(newValue) {\n            this.debouncedSearch = newValue;\n            this.refine();\n        }, 500),\n        dateWatchString: _.debounce(function(newValue) {\n            this.refine();\n        }, 500),\n    },\n    methods: {\n        refilter() {\n\n            console.log('Refilter')\n\n            //Refilter the page\n            var self = this;\n\n            var rows = self.isAsync ? self.rows : self.items;\n\n            if (!rows || !rows.length) {\n                self.filtered = rows;\n                return self.refine();\n            }\n\n            ///////////////////////////////////////////////////////////////\n\n            // console.log('REFILTER', rows.length, _.uniqBy(rows, function(row) {\n\n            ///////////////////////////////////////////////////////////////\n\n            //Check if we have a valid filter\n            var validFilters = FilterService.isValidFilter(self.filterConfig);\n\n\n            if (validFilters) {\n                // var filtered = filterGroupMatch(self.filterConfig, rows);\n                rows = _.filter(rows, function(row) {\n                    return FilterService.filterGroupMatch(self.filterConfig, row);\n                });\n            }\n\n            ///////////////////////////////////////////////////////////////\n\n            // console.log('ROWS', rows.length);\n            self.filtered = rows;\n            self.refine();\n        },\n        refine() {\n\n            console.log('Refine')\n            var self = this;\n            var rows = self.filtered;\n\n            //////////////////////////////////////////////////////////\n\n\n            if (!rows || !rows.length) {\n                self.refined = [];\n                return;\n            }\n\n            //////////////////////////////////////////////////////////\n\n\n            var refinedItems = rows;\n\n            //////////////////////////////////////////////////////////\n\n            if (self.debouncedSearch && self.debouncedSearch.length) {\n\n                var searchKeywords = String(self.debouncedSearch).toLowerCase().trim();\n                var searchPieces = searchKeywords.split(' ');\n\n\n                ////////////////////////////////////////////////\n\n                refinedItems = _.filter(refinedItems, function(item) {\n\n                    var itemTitle = String(item.title).trim().toLowerCase();\n\n                    var exactMatch = _.includes(itemTitle, searchKeywords);\n                    if (exactMatch) {\n                        return true;\n                    }\n\n                    /////////////////////////////////////////////////////\n\n                    //Multiword Match\n                    var match = _.every(itemTitle.split(' '), function(partial) {\n                        return _.some(searchPieces, function(word) {\n                            return _.includes(word, partial);\n                        })\n                    })\n\n                    if (match) {\n                        return true;\n                    }\n\n                    /////////////////////////////////////////////////////\n\n                    // //Get any of the visible columns\n                    // var columnWords = _.chain(self.columns)\n                    // .map(function(column) {\n                    //     var word = _.get(item, column.key);\n                    //     return word ? String(word).toLowerCase() || '';\n                    // })\n                    // .compact()\n                    // .value();\n\n                    // /////////////////////////////////////////////////////\n\n                    // //Check if it matches any of the column keywords\n                    // if(_.intersection(columnWords, searchPieces).length) {\n                    //     return true;\n                    // }\n\n                    /////////////////////////////////////////////////////\n\n                    return FilterService.matchAnyString(searchKeywords, item);\n                });\n            }\n\n\n            ////////////////////////////////////////////////\n\n            if (self.startDate && self.endDate) {\n\n                var startDate = new Date(self.startDate);\n                startDate.setHours(0, 0, 0, 0);\n                var endDate = new Date(self.endDate);\n                endDate.setHours(0, 0, 0, 0);\n\n                //////////////////////\n\n                refinedItems = _.filter(refinedItems, function(item) {\n\n                    var itemStartDate = new Date(item.startDate);\n                    itemStartDate.setHours(0, 0, 0, 0);\n\n                    var itemEndDate = new Date(item.endDate);\n                    itemEndDate.setHours(0, 0, 0, 0);\n\n                    if (itemEndDate < startDate) {\n                        return;\n                    }\n\n                    if (itemStartDate > endDate) {\n                        return;\n                    }\n\n                    return true;\n\n\n                });\n            }\n\n            console.log('REFINED DATE', refinedItems.length);\n\n            ////////////////////////////////////////////////\n\n            self.refined = refinedItems;\n\n            // self.refined = _.filter(rows, function(row) {\n\n            //     var rowTitle = String(row.title).trim().toLowerCase();\n\n            //     var exactMatch = _.includes(rowTitle, searchKeywords);\n            //     if (exactMatch) {\n            //         return true;\n            //     }\n\n            //     var pieces = rowTitle.split(' ');\n\n            //     //// console.log('PIECES', pieces, searchPieces);\n\n            //     var match = _.every(searchPieces, function(partial) {\n            //         return _.some(pieces, function(word) {\n            //             return _.includes(word, partial);\n            //         })\n            //     })\n\n            //     if(match) {\n            //         return true;\n            //     }\n\n\n            //     return FilterService.matchAnyString(searchKeywords, row);\n            //     // var similar = FilterService.isSimilar(searchKeywords, rowTitle);\n            //     // if (similar) {\n            //     //     return true;\n            //     // }\n            // });\n        },\n\n        // pageChange() {\n        //      //Scroll to top\n        //     var topElement = this.$refs.top;\n        //     if (topElement) {\n        //         topElement.scrollIntoView({\n        //             // block:'center',\n        //             // behavior:'smooth',\n        //         });\n        //     }\n\n        //     this.$emit('pageChange', this.currentPage);\n        // },\n        checkboxClick(item, $event, itemIndex) {\n\n            console.log('ITEM INDEX', itemIndex, item, $event);\n            return this.toggleSelection(item, $event, itemIndex);\n            // //console.log('Checkbox click!');\n            return this.$selection.toggle(item);\n        },\n        toggleSelection(item, $event, itemIndex, isolateOnClick) {\n\n\n            // var isolateOnClick = true;//false;\n\n            ////////////////////\n\n            //No event data\n            if (!$event) {\n                if (isolateOnClick) {\n                    //Set the selection to just this item\n\n                    this.$selection.setSelection([item]);\n                    //console.log('SET SELECTION', item)\n                    return\n                } else {\n                    //Select/Deselect this item\n                    this.$selection.toggle(item);\n\n                    return\n                }\n            }\n\n            ////////////////////\n\n            //They held CTRL/CMD down when they clicked\n            if ($event.metaKey) {\n                this.previousSelectionIndex = -1;\n                return this.$selection.toggle(item);\n            }\n\n            ////////////////////\n\n            //No button was pressed\n            if (!$event.shiftKey) {\n                //Remember this thing as what we selected\n                this.previousSelectionIndex = itemIndex;\n                if (isolateOnClick) {\n                    this.$selection.previousIntent = 'select';\n                    return this.$selection.setSelection([item]);\n                } else {\n                    return this.$selection.toggle(item);\n                }\n            }\n\n            ////////////////////////////////////////////\n\n            if (!itemIndex) {\n                //Forget about it\n                this.previousSelectionIndex = -1;\n            }\n\n            ////////////////////////////////////////////\n\n            //If there is a previous index\n            if (this.previousSelectionIndex != -1) {\n\n\n\n                //Find our range\n                var start = Math.min(this.previousSelectionIndex, itemIndex);\n                var end = Math.max(this.previousSelectionIndex, itemIndex);\n\n                if (itemIndex > this.previousSelectionIndex) {\n                    end += 1;\n                }\n\n                this.previousSelectionIndex = itemIndex;\n\n                var getRange = this.page.slice(start, end);\n\n                switch (this.$selection.previousIntent) {\n                    case 'deselect':\n                        return this.$selection.deselectMultiple(getRange);\n                        break;\n                    default:\n                        return this.$selection.selectMultiple(getRange);\n                        break;\n                }\n            }\n\n            this.previousSelectionIndex = itemIndex;\n            return this.$selection.toggle(item);\n        },\n        isSortable(column) {\n            if (!column) {\n                return;\n            }\n            var v = !(column.sortable === false)\n            return v;\n        },\n        setSort(sortObject) {\n            this.sort = sortObject;\n            this.$emit('sort', sortObject);\n        },\n        toggleSort(column) {\n\n            var self = this;\n\n            if (!self.isSortable(column)) {\n                return;\n            }\n\n            // console.log('COLUMN', column);\n            if (!column.key || !column.key.length) {\n                return;\n            }\n\n            //console.log('TOGGLE SORT', self.sort)\n\n            /////////////////////////\n            var sortKey = column.key;\n            var sortType = column.sortType || 'string';\n            var alreadyActive = (self.sort && self.sort.sortKey == sortKey);\n            var currentDirection = self.sort.sortDirection;\n            var sortDirection = alreadyActive ? (currentDirection == 'asc' ? 'desc' : 'asc') : 'asc';\n\n\n\n            /////////////////////////\n\n            if (!self.isAsync) {\n                self.setSort({\n                    sortKey,\n                    sortType,\n                    sortDirection,\n                });\n            } else {\n                self.setSort({\n                    sortKey,\n                    sortType,\n                    sortDirection,\n                });\n            }\n\n            //Change to first page\n            self.setPage(1);\n\n\n\n        },\n        classes(item) {\n            var classes = []\n\n            if (!item) {\n                return classes;\n            }\n\n\n\n            if (this.$selection.isSelected(item)) {\n                classes.push('selected');\n            }\n\n            //// console.log('iTEM ISSUE', item)\n            classes.push('status-' + item.status);\n\n            return classes;\n\n        },\n        setPage(pageNumber) {\n\n            if (this.currentPage == pageNumber) {\n                console.log('already at page', pageNumber)\n                return;\n            }\n            this.currentPage = pageNumber;\n            // this.pageChange();\n\n            var topElement = this.$refs.top;\n            if (topElement) {\n                // console.log('SCROLL INTO VIEW')\n                topElement.scrollIntoView({\n                    // block:'center',\n                    // behavior:'smooth',\n                });\n            }\n\n            this.$emit('page', pageNumber);\n        },\n        firstPage() {\n            this.currentPage = 1;\n\n        },\n        lastPage() {\n            this.currentPage = this.totalPages;\n        },\n        nextPage() {\n            //console.log(this.currentPage, this.totalPages);\n            this.currentPage < this.totalPages ? this.setPage(this.currentPage + 1) : this.setPage(this.totalPages);\n        },\n        previousPage() {\n            this.currentPage > 1 ? this.setPage(this.currentPage - 1) : this.setPage(1);\n        },\n        selectPage() {\n            if (!this.page || !this.page.length) {\n                return;\n            }\n\n            this.$selection.selectMultiple(this.page)\n        },\n        deselectPage() {\n            if (!this.page || !this.page.length) {\n                return;\n            }\n\n            this.$selection.deselectMultiple(this.page)\n        },\n        selectAll() {\n            this.$selection.selectMultiple(this.refined);\n        },\n        deselectAll() {\n            this.$selection.deselectAll();\n        },\n        toggleSelectAll() {\n\n\n            if (!this.page || !this.page.length) {\n                return;\n            }\n\n            // //console.log('Toggle All', this.page);\n            if (this.allSelected) {\n                this.$selection.deselectMultiple(this.page)\n\n            } else {\n                this.$selection.selectMultiple(this.page)\n            }\n        }\n    },\n    components: {\n        TableHeaderCheckbox,\n        TableRowCheckbox,\n        TableCell,\n    },\n}\n</script>\n<style lang=\"scss\">\n.fluro-table-wrapper {\n    position: relative;\n\n    // border: 10px solid;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    height: 100%;\n\n\n    .v-progress-linear {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        margin: 0;\n        padding: 0;\n    }\n\n\n\n    .fluro-table-scroll {\n        position: relative;\n        width: 100%;\n        z-index: 1;\n        margin: auto;\n        overflow: auto;\n        height: 100%;\n\n        overscroll-behavior-x: none !important;\n        overscroll-behavior-y: none !important;\n        overscroll-behavior: none !important;\n\n        table {\n            width: 100%;\n            // min-width: 1280px;\n            margin: auto;\n            border-collapse: separate;\n            border-spacing: 0;\n\n\n        }\n\n        &.loading {\n            table {\n                opacity: 0.5;\n            }\n        }\n\n        th,\n        td {\n            padding: 8px 15px;\n            border-bottom: 1px solid #e8edf1;\n            vertical-align: middle;\n            white-space: nowrap;\n            position: relative;\n\n            &.shrink {\n                width: 1px;\n            }\n\n\n        }\n\n        th {\n            &.sorting {\n                background: #f6f6f6 !important;\n            }\n        }\n\n        .action-buttons {\n            opacity: 0.3;\n            white-space: nowrap;\n\n        }\n\n        tr {\n            background: #fff;\n\n            th:first-child,\n            th:last-child {\n                background: #fff;\n            }\n\n            &:nth-child(odd) {\n                background: #fcfcfc;\n\n                th:first-child,\n                th:last-child {\n                    background: #fcfcfc;\n                }\n            }\n\n            &.status-archived,\n            &.status-deceased {\n\n                th:first-child,\n                th:last-child,\n                td,\n                th {\n                    color: #888; //rgba(#000, 0.5);\n                    background: #f4f4f4;\n                }\n            }\n\n            &.selected {\n\n                th:first-child,\n                th:last-child,\n                td,\n                th {\n                    // background: yellow;\n                    background-color: #f7f6de !important;\n                    color: #846b1f;\n                    border-color: #f2eac9 !important;\n\n                }\n            }\n\n\n        }\n\n        tbody tr {\n\n            &:hover {\n\n                td,\n                th {\n\n                    &,\n                    &:first-child,\n                    &:last-child {\n                        background-color: #f4fafa;\n                        color: #055d52;\n                    }\n                }\n\n\n                .action-buttons {\n                    opacity: 1;\n                }\n            }\n\n            &.breaker {\n                background: rgba(#000, 0.01);\n\n                td,\n                th {\n                    background: none !important;\n                    color: rgba(#000, 0.5) !important;\n                    text-transform: uppercase;\n                    font-size: 0.8em;\n                    font-weight: 600;\n                    letter-spacing: 0.03em;\n                    padding: 2px 15px;\n                }\n            }\n        }\n\n        thead {\n\n            // position: -webkit-sticky;\n            //    position: sticky;\n            //    top: 0;\n\n            //    &,\n            th,\n            td {\n                padding: 5px 15px;\n                position: -webkit-sticky;\n                position: sticky;\n                top: 0;\n\n                background: #fff !important;\n                z-index: 4;\n\n                //theme/styling\n                text-align: left;\n                font-size: 11px;\n                text-transform: uppercase;\n                letter-spacing: 0.05em;\n                line-height: 20px;\n                white-space: nowrap;\n            }\n\n            th {\n                white-space: nowrap;\n\n\n\n                &.sortable {\n                    padding-right: 15px;\n\n                    .sort-icon {\n                        position: absolute;\n                        right: 5px;\n\n                    }\n                }\n            }\n        }\n\n\n        /* safari and ios need the tfoot itself to be position:sticky also */\n        tfoot {\n            position: -webkit-sticky;\n            position: sticky;\n            bottom: 0;\n\n            &,\n            & th,\n            & td {\n                position: -webkit-sticky;\n                position: sticky;\n                bottom: 0;\n                background: #fff;\n                // color: #fff;\n                z-index: 4;\n            }\n\n            th {\n                white-space: nowrap;\n            }\n        }\n\n\n\n        th:first-child {\n            position: -webkit-sticky;\n            position: sticky;\n            left: 0;\n            z-index: 2;\n\n\n\n            // background: #ccc;\n        }\n\n        th:last-child {\n            position: -webkit-sticky;\n            position: sticky;\n            right: 0;\n            z-index: 2;\n            text-align: right;\n            // background: #ccc;\n        }\n\n        thead th:first-child,\n        tfoot th:first-child,\n        thead th:last-child,\n        tfoot th:last-child {\n            z-index: 5;\n\n        }\n\n\n\n    }\n\n    .footer-stats {\n        @extend .border-top;\n        padding: 5px 10px;\n        font-size: 0.9em;\n    }\n\n\n    .flex-center {\n        flex: 1;\n        display: flex;\n        text-align: center;\n        justify-content: center;\n        align-items: center;\n    }\n\n\n    th,\n    td {\n        &.checkbox-cell {\n            text-align: center;\n            padding-left: 5px !important;\n            padding-right: 5px !important;\n        }\n    }\n\n\n}\n</style>","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterConditionRow.vue?vue&type=style&index=0&id=6799bd5c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterConditionRow.vue?vue&type=style&index=0&id=6799bd5c&scoped=true&lang=scss&\"","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableRowCheckbox.vue?vue&type=style&index=0&id=7704fcaa&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TableRowCheckbox.vue?vue&type=style&index=0&id=7704fcaa&scoped=true&lang=scss&\"","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","import _ from 'lodash';\nimport moment from 'moment';\nimport stringSimilarity from 'string-similarity';\n\n//////////////////////////////////////////////////////////////////////\n\nvar service = {};\n\n//////////////////////////////////////////////////////////////////////\n\nservice.activeFilters = function(config) {\n\n    var memo = [];\n    getActiveFilter(config, memo);\n\n    return memo;\n\n    ////////////////////////////\n\n    function getActiveFilter(block, memo) {\n\n        var isValid = service.isValidFilter(block);\n        if (isValid) {\n            memo.push(block);\n        }\n\n        if (block.filters && block.filters.length) {\n            _.each(block.filters, function(b) {\n                getActiveFilter(b, memo);\n            })\n        }\n    }\n}\n\n//////////////////////////////////////////////////////////////////////\n\nservice.activeFilterRows = function(config) {\n\n    return _.filter(service.activeFilters, function(row) {\n        return row.comparator && row.comparator.length;\n    })\n}\n\n\nservice.activeFilterKeys = function(config) {\n    var keys =  _.chain(service.activeFilters(config))\n        .map(function(entry) {\n            if(!entry || !entry.key) {\n                return;\n            }\n\n            return service.getRootKey(entry.key);\n        })\n        .compact()\n        .uniq()\n        .value();\n\n       return keys;\n}\n\n//////////////////////////////////////////////////////////////////////\n\nservice.activeFilterValues = function(config) {\n\n    var values = _.chain(service.activeFilters(config))\n        .map(function(block) {\n\n            var all = [];\n            var comparator = service.getComparator(block.comparator);\n            if (!comparator) {\n                return;\n            }\n\n            switch (comparator.inputType) {\n                case 'array':\n                    all = all.concat(block.values);\n                    break;\n                case 'range':\n                case 'daterange':\n                    all = all.concat([block.value, block.value2]);\n                    break;\n                default:\n                    all.push(block.value);\n                    break;\n            }\n\n            return all;\n        })\n        .flatten()\n        .compact()\n        .map(function(value) {\n            var nameTitle = value.title || value.name || value._id || value;\n            return String(nameTitle).toLowerCase();\n        })\n        .compact()\n        .uniq()\n        .value();\n\n\n         // console.log('FILTER VALUES', values);\n\n    return values;\n\n}\n\nservice.activeFilterComparators = function(config) {\n    var memo = [];\n    getActiveFilterComparator(config, memo);\n    return memo;\n\n    ////////////////////////////\n\n\n    function getActiveFilterComparator(block, memo) {\n\n        var isValid = service.isValidFilter(block);\n        if (isValid) {\n            memo.push(block.comparator);\n        }\n\n        if (block.filters && block.filters.length) {\n            _.each(block.filters, function(b) {\n\n\n                getActiveFilterComparator(b, memo);\n\n\n            })\n        }\n    }\n}\n\nservice.activeFilterOperators = function(config) {\n    var memo = [];\n    var trail = [];\n\n    //////////////////////////\n\n    getActiveFilterBlockOperator(config, memo, trail);\n\n    //////////////////////////\n\n    var flat = _.chain(memo)\n        .flatten()\n        .reduce(function(set, operator) {\n\n            if (!set[operator]) {\n                set[operator] = 0;\n            }\n\n            set[operator]++;\n\n            return set;\n        }, {})\n        .map(function(i, key) {\n            return `${i}${key}`;\n        })\n        .compact()\n        .value();\n\n    ////////////////////////////\n\n    return flat;\n\n    ////////////////////////////\n\n\n\n    function getActiveFilterBlockOperator(block, memo, trail) {\n\n        var operator = block.operator;\n\n        //If it's a rule set\n        if (operator) {\n\n            // //Add the path to the block\n            trail.push(operator);\n\n            ///////////////////////////////\n\n            //Check if any of it's filters are valid and active\n            var isValid = _.some(block.filters, function(filter) {\n                return service.isValidFilter(filter);\n            })\n\n\n            if (isValid) {\n                memo.push(trail.slice());\n            }\n        } else {\n            trail.length = 0;\n        }\n\n        ////////////////////////////////////////////////\n\n        //Go down the tree further\n        if (block.filters && block.filters.length) {\n            _.each(block.filters, function(b) {\n                getActiveFilterBlockOperator(b, memo, trail);\n            })\n        } else {\n            trail.length = 0;\n        }\n    }\n}\n\n//////////////////////////////////////////////////////////////////////\n\n\nservice.getFilterChangeString = function(config) {\n\n    //Put all this together so we only refilter when we actually need to\n    //each of these will only return if the filter is valid and actually changes\n    //effects the results, without this step the table will update everytime you change the filters\n    var string = [\n        service.activeFilterKeys(config).join(', '),\n        service.activeFilterValues(config).join(', '),\n        service.activeFilterComparators(config).join(', '),\n        service.activeFilterOperators(config).join(', '),\n    ].join('');\n\n\n    return string;\n}\n\n//////////////////////////////////////////////////////////////////////\n\n//Helper function to map an input to a basic string\nfunction getString(input, includeIDs) {\n\n    if (!input) {\n        return '';\n    }\n\n\n    if (includeIDs) {\n        if (input._id) {\n            return String(input._id);\n        }\n\n        if (input._external) {\n            return String(input._external);\n        }\n    }\n\n    if (input.title) {\n        return String(input.title).toLowerCase();\n    }\n\n    if (input.name) {\n        return String(input.name).toLowerCase();\n    }\n\n    return String(input).toLowerCase()\n}\n\n//////////////////////////////////////////////////////////////////////\n\nfunction getAllStringMatches(input, includeIDs) {\n\n    var matches = [];\n    if (!input) {\n        return matches;\n    }\n\n    if (!_.isObject(input)) {\n        return [String(input).toLowerCase()];\n    }\n\n    if (_.isArray(input)) {\n        return _.flatten(getAllStringMatches(input, includeIDs))\n    }\n\n    if (includeIDs) {\n        if (input._id && input._id.length) {\n            matches.push(input._id);\n        }\n\n        if (input._external && input._external.length) {\n            matches.push(input._external);\n        }\n    }\n\n    if (input.title && input.title.length) {\n        matches.push(String(input.title).toLowerCase());\n    }\n\n    if (input.name && input.name.length) {\n        matches.push(String(input.name).toLowerCase());\n    }\n\n\n\n    return matches;\n}\n\n//////////////////////////////////////////////////////////////////////\n\nfunction isBetween(input, from, to) {\n\n    var startFloat = parseFloat(from);\n    var endFloat = parseFloat(to);\n    var checkFloat = parseFloat(input);\n\n    var start = Math.min(startFloat, endFloat);\n    var end = Math.max(startFloat, endFloat);\n\n    var match = (checkFloat >= start) && (checkFloat <= end);\n\n    return match;\n}\n\n\n\n//////////////////////////////////////////////////////////////////////\n\nfunction isIn(input, range) {\n\n    var stringInput = getString(input, true);\n\n    //Range is the array we are checking in\n    return _.some(range, function(entry) {\n\n        var entryString = getString(entry, true);\n\n        // console.log('CHECK', range, entry, stringInput, entryString)\n        return stringInput == getString(entry, true);\n    });\n}\n\n///////////////////////////////////\n\nfunction isEmpty(input) {\n    return !input;\n}\n\n\n///////////////////////////////////\n\n\nservice.matchAnyString = function(keywords, row) {\n\n    var values = _.values(row);\n    var string = getString(keywords);\n    return _.some(values, function(input) {\n        return _.includes(getString(input), string)\n    })\n}\n\n///////////////////////////////////\n\nservice.isSimilar = function(input, mustMatchValue, options) {\n\n    if (!options) {\n        options = {};\n    }\n\n    var score = stringSimilarity.compareTwoStrings(getString(input), getString(mustMatchValue));\n    var matches = (score >= 0.6);\n\n    if (options.source) {\n        if (!options._similar) {\n            options._similar = 0;\n        }\n\n        //Increase the score\n        options._similar += matches;\n    }\n\n    return matches;\n\n}\n\n\n\n\n///////////////////////////////////\n\n\n\n///////////////////////////////////\n\nfunction isEqual(input, range) {\n\n    //Input is the field from the row, range is the filter input typed by the user\n    // console.log('INPUT', input, range);\n    var matchAny = getAllStringMatches(input, true);\n\n    var rangeAsString = getString(range, true);\n\n    if (matchAny == rangeAsString) {\n        return true;\n    }\n\n\n    var isMatch = _.includes(matchAny, rangeAsString);\n\n    // if(isMatch) {\n    //     console.log('MATCH', rangeAsString, matchAny)\n    // }\n\n    return isMatch\n\n    // var string2 = getString(range);\n    // var inputIsArray = _.isArray(input);\n\n\n    // if(inputIsArray) {\n    // // console.log('Input is array', inputIsArray, input, range);\n    //     return _.some(input, function(entry) {\n    //         return getString(entry) == string2;\n    //     })\n    // } else {\n\n\n    //     var string1 = getString(input);\n    //     // console.log('Input is string', string1, string2);\n    //     return string1 == string2;\n    // }\n\n\n\n}\n\nfunction isContained(input, range) {\n\n    //TODO Check if this is necessary\n    //As i think this will always be a string\n    if (_.isString(range)) {\n        range = getString(range);\n    }\n\n    return _.includes(range, getString(input));\n}\n\n\n\n\n///////////////////////////////\n\n\nfunction dateCompare(input, range, type, format) {\n\n\n    var date1 = new Date(input);\n    date1.setHours(0, 0, 0, 0);\n\n    var date2 = new Date(range);\n    date2.setHours(0, 0, 0, 0);\n\n\n    switch (type) {\n        case 'date':\n            return String(date1) == String(date2);\n            break;\n        case 'week':\n            return moment(date1).format('W YYYY') == moment(date2).format('W YYYY');\n            break;\n        case 'month':\n            return moment(date1).format('M YYYY') == moment(date2).format('M YYYY');\n            break;\n        case 'year':\n            return moment(date1).format('YYYY') == moment(date2).format('YYYY');\n            break;\n        case 'historical':\n            return moment(date1).format('D MMM') == moment(date2).format('D MMM');\n            break;\n            // case 'weekday':\n            //     return moment(date1).format('dddd') == moment(date2).format('dddd');\n            // break;\n        case 'before':\n            return date1 < date2\n            break;\n        case 'after':\n            return date1 > date2\n            break;\n    }\n}\n\n///////////////////////////////\n\nservice.comparators = [];\n\n///////////////////////////////\n\n//Date Comparators\nservice.comparators.push({\n    title: 'Is on day ',\n    operator: 'datesameday',\n    match(input, mustMatchValue) {\n\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return dateCompare(i, mustMatchValue, 'date');\n            });\n        } else {\n            return dateCompare(input, mustMatchValue, 'date');\n        }\n\n    },\n    // dateDisplayFormat:'D MMM YYYY',\n    restrict: [\n        'date',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is same day not year',\n    operator: 'datenotyear',\n    match(input, mustMatchValue) {\n\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return dateCompare(i, mustMatchValue, 'historical');\n            });\n        } else {\n            return dateCompare(input, mustMatchValue, 'historical');\n        }\n\n    },\n    dateDisplayFormat: 'YYYY',\n    restrict: [\n        'date',\n    ],\n})\n\n\n/**\nservice.comparators.push({\n    title: 'Is same week as',\n    operator: 'datesameweek',\n    match(input, mustMatchValue) {\n\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return dateCompare(i, mustMatchValue, 'week');\n            });\n        } else {\n            return dateCompare(input, mustMatchValue, 'week');\n        }\n\n    },\n    dateDisplayFormat:'[Wk]W YYYY',\n    restrict: [\n        'date',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is same month as',\n    operator: 'datesamemonth',\n    match(input, mustMatchValue) {\n\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return dateCompare(i, mustMatchValue, 'month');\n            });\n        } else {\n            return dateCompare(input, mustMatchValue, 'month');\n        }\n\n    },\n    dateDisplayFormat:'MMM YYYY',\n    restrict: [\n        'date',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is same year as',\n    operator: 'datesameyear',\n    match(input, mustMatchValue) {\n\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return dateCompare(i, mustMatchValue, 'year');\n            });\n        } else {\n            return dateCompare(input, mustMatchValue, 'year');\n        }\n\n    },\n    dateDisplayFormat:'YYYY',\n    restrict: [\n        'date',\n    ],\n})\n/**/\n\nservice.comparators.push({\n    title: 'Is weekday',\n    operator: 'datesameweekday',\n    match(input, mustMatchValue) {\n\n        var mustMatchString = String(mustMatchValue);\n\n        // console.log('Check date input', input);\n\n       \n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n               var weekdayInteger = moment(i).weekday()\n               return _.includes(mustMatchString, weekdayInteger);\n            });\n        } else {\n             var weekdayInteger = moment(input).weekday()\n             return _.includes(mustMatchString, weekdayInteger);\n        }\n\n\n\n    },\n    dateDisplayFormat:'dddd',\n    restrict: [\n        'date',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is before',\n    operator: 'datebefore',\n    match(input, mustMatchValue) {\n        return dateCompare(input, mustMatchValue, 'before');\n    },\n    restrict: [\n        'date',\n    ],\n})\n\n\nservice.comparators.push({\n    title: 'Is after',\n    operator: 'dateafter',\n    match(input, mustMatchValue) {\n        return dateCompare(input, mustMatchValue, 'after');\n    },\n    restrict: [\n        'date',\n    ],\n})\n\n\nservice.comparators.push({\n    title: 'Is between',\n    operator: 'betweendate',\n    match(input, mustMatchValue1, mustMatchValue2) {\n        var checkDate = new Date(input);\n        checkDate.setHours(0, 0, 0, 0);\n\n        var date1 = new Date(mustMatchValue1)\n        date1.setHours(0, 0, 0, 0);\n\n        var date2 = new Date(mustMatchValue2)\n        date2.setHours(0, 0, 0, 0);\n\n        return isBetween(checkDate.getTime(), date1.getTime(), date2.getTime());\n    },\n    restrict: [\n        'date',\n    ],\n    inputType: 'daterange',\n})\n\nservice.comparators.push({\n    title: 'Is not between',\n    operator: 'notbetweendate',\n    match(input, mustMatchValue1, mustMatchValue2) {\n        var checkDate = new Date(input);\n        checkDate.setHours(0, 0, 0, 0);\n\n        var date1 = new Date(mustMatchValue1)\n        date1.setHours(0, 0, 0, 0);\n\n        var date2 = new Date(mustMatchValue2)\n        date2.setHours(0, 0, 0, 0);\n\n        return !isBetween(checkDate.getTime(), date1.getTime(), date2.getTime());\n    },\n    restrict: [\n        'date',\n    ],\n    inputType: 'daterange',\n})\n\n\n\n///////////////////////////////\n///////////////////////////////\n///////////////////////////////\n\n\nservice.comparators.push({\n    title: 'Is one of',\n    operator: 'in',\n    match(input, mustMatchValue) {\n\n\n        if (_.isArray(input)) {\n\n            //Check if any match\n            return _.some(input, function(i) {\n                return isIn(i, mustMatchValue);\n            });\n        } else {\n\n            var matches = isIn(input, mustMatchValue);\n            // console.log('Must match value', matches, input, mustMatchValue);\n\n            return matches;\n        }\n    },\n    restrict: [\n        'string',\n        'email',\n        'url',\n        // 'number',\n        // 'integer',\n        // 'decimal',\n        // 'float',\n        'reference',\n    ],\n    inputType: 'array',\n})\n\nservice.comparators.push({\n    title: 'Is not one of',\n    operator: 'notin',\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return !_.some(input, function(i) {\n                return isIn(i, mustMatchValue);\n            });\n        } else {\n            return !isIn(input, mustMatchValue);\n        }\n    },\n    restrict: [\n        'string',\n        'email',\n        'url',\n        //'number',\n        //'integer',\n        //'decimal',\n        //'float',\n        'reference',\n    ],\n    inputType: 'array',\n})\n\n\n\nservice.comparators.push({\n    title: 'Is ',\n    operator: '==',\n\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return isEqual(i, mustMatchValue);\n            });\n        } else {\n            return isEqual(input, mustMatchValue);\n        }\n    },\n    restrict: [\n        'string',\n        'email',\n        'url',\n        'boolean',\n        'number',\n        'integer',\n        'decimal',\n        'float',\n        'reference',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is not',\n    operator: '!=',\n    positive: false,\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return !_.some(input, function(i) {\n                return isEqual(i, mustMatchValue);\n            });\n        } else {\n            return !isEqual(input, mustMatchValue);\n        }\n    },\n    restrict: [\n        'string',\n        'email',\n        'url',\n        'boolean',\n        'number',\n        'integer',\n        'decimal',\n        'float',\n        'reference',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Starts with',\n    operator: 'startswith',\n\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return _.startsWith(getString(i), getString(mustMatchValue))\n            });\n        } else {\n            return _.startsWith(getString(input), getString(mustMatchValue))\n        }\n    },\n    restrict: [\n        'string',\n        'email',\n        'url',\n        'reference',\n    ],\n\n})\n\n\n\nservice.comparators.push({\n    title: 'Ends with',\n    operator: 'endswith',\n\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return _.endsWith(getString(i), getString(mustMatchValue))\n            });\n        } else {\n            return _.endsWith(getString(input), getString(mustMatchValue))\n        }\n    },\n    restrict: [\n        'string',\n        'email',\n        'url',\n\n        'reference',\n    ],\n})\n\n\nservice.comparators.push({\n    title: 'Is similar to',\n    operator: 'like',\n\n    match(input, mustMatchValue, mustMatchValue2, options) {\n\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return service.isSimilar(i, mustMatchValue);\n            });\n        } else {\n            return service.isSimilar(input, mustMatchValue);\n        }\n    },\n    restrict: ['string'],\n})\n\nservice.comparators.push({\n    title: 'Contains characters',\n    operator: 'contains',\n\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return _.some(input, function(i) {\n                return isContained(mustMatchValue, i);\n            });\n        } else {\n            return isContained(mustMatchValue, input);\n        }\n    },\n    restrict: ['string'],\n})\n\nservice.comparators.push({\n    title: 'Does not contain characters',\n    operator: 'excludes',\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return !_.some(input, function(i) {\n                return isContained(mustMatchValue, i);\n            });\n        } else {\n            return !isContained(mustMatchValue, input);\n        }\n    },\n    restrict: ['string'],\n})\n\n\nservice.comparators.push({\n    title: 'Is greater than',\n    operator: '>',\n    match(input, mustMatchValue) {\n        return parseFloat(input) > parseFloat(mustMatchValue);\n    },\n    restrict: [\n        'number',\n        'integer',\n        'decimal',\n        'float',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is less than',\n    operator: '<',\n    match(input, mustMatchValue) {\n        return parseFloat(input) < parseFloat(mustMatchValue);\n    },\n    restrict: [\n\n        'number',\n        'integer',\n        'decimal',\n        'float',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is greater than or equal to',\n    operator: '>=',\n    match(input, mustMatchValue) {\n        return parseFloat(input) >= parseFloat(mustMatchValue);\n    },\n    restrict: [\n\n        'number',\n        'integer',\n        'decimal',\n        'float',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is less than or equal to',\n    operator: '<=',\n    match(input, mustMatchValue) {\n        return parseFloat(input) <= parseFloat(mustMatchValue);\n    },\n    restrict: [\n\n        'number',\n        'integer',\n        'decimal',\n        'float',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Is between',\n    operator: 'between',\n    match(input, mustMatchValue1, mustMatchValue2) {\n        return isBetween(input, mustMatchValue1, mustMatchValue2);\n    },\n    restrict: [\n\n        'number',\n        'integer',\n        'decimal',\n        'float',\n    ],\n    inputType: 'range',\n})\n\n\nservice.comparators.push({\n    title: 'Is not between',\n    operator: 'notbetween',\n    match(input, mustMatchValue1, mustMatchValue2) {\n        return !isBetween(input, mustMatchValue1, mustMatchValue2);\n    },\n    restrict: [\n\n        'number',\n        'integer',\n        'decimal',\n        'float',\n    ],\n    inputType: 'range',\n})\n\nservice.comparators.push({\n    title: 'Is empty',\n    operator: 'empty',\n    match(input, mustMatchValue) {\n        return isEmpty(input);\n    },\n    inputType: 'none',\n})\n\nservice.comparators.push({\n    title: 'Is not empty',\n    operator: 'notempty',\n    match(input, mustMatchValue) {\n        return !isEmpty(input);\n    },\n    inputType: 'none',\n})\n\n\n\nservice.comparators.push({\n    title: 'Does not start with',\n    operator: 'doesnotstartwith',\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return !_.some(input, function(i) {\n                return _.startsWith(getString(i), getString(mustMatchValue))\n            });\n        } else {\n            return !_.startsWith(getString(input), getString(mustMatchValue))\n        }\n    },\n    restrict: [\n        'string',\n        'email',\n        'url',\n\n        'reference',\n    ],\n})\n\nservice.comparators.push({\n    title: 'Does not end with',\n    operator: 'doesnotendwith',\n    match(input, mustMatchValue) {\n        if (_.isArray(input)) {\n            return !_.some(input, function(i) {\n                return _.endsWith(getString(i), getString(mustMatchValue))\n            });\n        } else {\n            return !_.endsWith(getString(input), getString(mustMatchValue))\n        }\n    },\n    restrict: [\n        'string',\n        'email',\n        'url',\n\n        'reference',\n    ],\n})\n\n\nvar allTypes = [\n    'string',\n    'date',\n    'boolean',\n    'number',\n    'integer',\n    'decimal',\n    'float',\n    'reference',\n]\n\n///////////////////////////////\n\nservice.comparatorLookup = {};\nservice.comparatorTypeLookup = {};\n\n///////////////////////////////\n\n//Loop through each available comparator\n_.each(service.comparators, function(comparator) {\n\n    //map each comparator\n    service.comparatorLookup[comparator.operator] = comparator;\n\n    //Find any restrictions for this comparator\n    var restrictTypes = comparator.restrict || [];\n\n    //If there are none, then it's available to all types\n    if (!restrictTypes.length) {\n        restrictTypes = allTypes;\n    }\n\n    //And map to each type it's restricted for\n    _.each(restrictTypes, function(type) {\n\n        var existing = service.comparatorTypeLookup[type];\n\n        if (!existing) {\n            existing = service.comparatorTypeLookup[type] = [];\n        }\n\n        //Add the comparator to the list\n        existing.push(comparator);\n\n    })\n\n});\n\n///////////////////////////////\n\n\n//Quick fast way to retrieve the comparator\nservice.getComparator = function(operator) {\n    return service.comparatorLookup[operator]\n}\n\n//////////////////////////////////////////////////////////////////\n\nservice.getComparatorsForType = function(type) {\n    //Return the matches or just all comparators\n    return service.comparatorTypeLookup[type] || service.comparators;\n}\n\n////////////////////////////////////////////////////////\n\nservice.isValidFilter = function(block) {\n\n    \n\n    if (block.operator) {\n        return _.some(block.filters, service.isValidFilter);\n    }\n    ////////////////////////////////////////////////////////\n\n    var comparator = service.getComparator(block.comparator);\n    if (!comparator) {\n        return;\n    }\n\n\n     // console.log('CHECK', block)\n\n    ////////////////////////////////////////////////////////\n\n    var key = service.getRootKey(block.key);\n    if (!key || !key.length) {\n        return;\n    }\n\n    ////////////////////////////////////////////////////////\n\n    \n\n    switch (comparator.inputType) {\n        case 'none':\n            return true;\n            break;\n        case 'range':\n            if (!block.value || isNaN(block.value)) {\n                return;\n            }\n\n            if (!block.value2 || isNaN(block.value2)) {\n                return;\n            }\n            break;\n        case 'daterange':\n            if (!block.value || !_.isDate(new Date(block.value))) {\n                return;\n            }\n\n            if (!block.value2 || !_.isDate(new Date(block.value))) {\n                return;\n            }\n\n            break;\n        case 'array':\n            if (!block.values || !block.values.length) {\n                return;\n            }\n            break;\n        default:\n\n\n            if (!block.value || !_.isDate(new Date(block.value))) {\n                return;\n            }\n            break;\n\n    }\n\n\n    return true;\n}\n\n\n//////////////////////////////////////////////////////////////////\n\nservice.filterGroupMatch = function(filterGroup, item) {\n\n    //If it's a group\n\n    var operator = filterGroup.operator;\n    var returnValue;\n\n\n    var validFilters = _.filter(filterGroup.filters, service.isValidFilter);\n\n    if (validFilters && validFilters.length) {\n\n        switch (operator) {\n            case 'or':\n                returnValue = _.some(validFilters, function(filterBlock) {\n                    var wasMatch = service.filterMatch(filterBlock, item)\n                    return wasMatch;\n                })\n                break;\n            case 'and':\n            default:\n                returnValue = _.every(validFilters, function(filterBlock) {\n\n                    var wasMatch = service.filterMatch(filterBlock, item)\n                    // console.log('Was', wasMatch, filterBlock, item)\n                    return wasMatch;\n                })\n                break;\n        }\n\n    }\n\n    return returnValue;\n\n}\n\n//////////////////////////////////////////////////////////////////\nservice.getRootKey = function(key) {\n    return String(key).split('|')[0];\n\n}\n\n//////////////////////////////////////////////////////////////////\n\n//Pass through\nservice.filterMatch = function(filter, item) {\n    if (filter.filters) {\n        return service.filterGroupMatch(filter, item);\n    }\n\n\n\n    var key = service.getRootKey(filter.key);\n    var mustMatchValue = filter.value;\n    var mustMatchValue2 = filter.value2;\n\n\n    ////////////////////////////////////////\n\n    //Find the comparator\n    var comparator = service.getComparator(filter.comparator || '==');\n    var inputType = comparator.inputType;\n\n    ////////////////////////////////////////\n\n    if (!key || !key.length) {\n        // console.log('No Key!')\n        return true;\n    }\n\n\n    ////////////////////////////////////////\n\n    //If we are a range type filter\n    if (inputType == 'array') {\n\n        // console.log('ARRAY?', inputType);\n        //Get the second value\n        var mustMatchValue = filter.values || [];\n\n        //If we don't have a value 2 then return true\n        if (!mustMatchValue || !mustMatchValue.length) {\n            return true;\n        }\n    }\n\n    ////////////////////////////////////////\n\n    if (inputType != 'none') {\n\n        // console.log('INPUT TYPE IS', inputType);\n        //If we don't have a value yet then return true\n        if (typeof mustMatchValue == 'undefined' || mustMatchValue === null) {\n            return true;\n        }\n    }\n\n\n    ////////////////////////////////////////\n\n    //If we are a range type filter\n    if (inputType == 'range' || inputType == 'daterange') {\n        //If we don't have a value 2 then return true\n        if (typeof mustMatchValue2 == 'undefined' || mustMatchValue2 === null) {\n            return true;\n        }\n    }\n\n\n\n\n\n    ////////////////////////////////////////\n\n    //Get the actual value on the item\n    var itemValue = _.get(item, key);\n    // if(key == 'status') {\n    //     console.log('GOT ITEM VALUE', key, itemValue, item)\n    // }\n\n    ////////////////////////////////////////\n\n    if (inputType != 'none') {\n        //If we don't have a value yet then return true\n        if (typeof mustMatchValue == 'undefined' || mustMatchValue === null || mustMatchValue == '') {\n            return;\n        }\n    }\n\n\n    ////////////////////////////////////////\n\n    //Return if it matches\n\n\n    var itMatches = comparator.match(itemValue, mustMatchValue, mustMatchValue2, {\n        source: item,\n        key: key,\n    });\n\n    // if(key == 'status') {\n    // console.log('CHECK ITEM VALUE', item.title, itemValue, key, item);\n    // if(itMatches) {\n    // console.log('MATCHES', key, itMatches, item.title, itemValue, mustMatchValue);\n    // }\n    // }\n\n    return itMatches;\n}\n\n///////////////////////////////\n\nexport default service;","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"filter-group-outer\",class:{mini:_vm.mini, large:!_vm.mini}},[_c('v-container',{ref:\"element\",class:[{'pa-2': _vm.mini}, _vm.model.operator]},[(_vm.model.filters.length > 1)?_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"d-flex\":\"\",\"align-center\":\"\"}},[(_vm.mini)?[_c('div',{staticClass:\"description\"},[_vm._v(\"\\n                        Match\\n                        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.operator),expression:\"model.operator\"}],staticClass:\"select-operator\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.model, \"operator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"and\"}},[_vm._v(\"all\")]),_c('option',{attrs:{\"value\":\"or\"}},[_vm._v(\"any\")]),_c('option',{attrs:{\"value\":\"nor\"}},[_vm._v(\"none\")])]),_vm._v(\"\\n                        of these rules\\n                    \")])]:[_c('div',{staticClass:\"description\"},[_vm._v(\"\\n                        Show items that match\\n                        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.model.operator),expression:\"model.operator\"}],staticClass:\"select-operator\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.model, \"operator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"and\"}},[_vm._v(\"all\")]),_c('option',{attrs:{\"value\":\"or\"}},[_vm._v(\"any\")]),_c('option',{attrs:{\"value\":\"nor\"}},[_vm._v(\"none\")])]),_vm._v(\" of these conditions\\n                    \")])]],2)],1):_vm._e(),_vm._l((_vm.model.filters),function(group,g){return _c('v-layout',{key:group.guid,attrs:{\"row\":\"\"}},[(_vm.model.filters.length > 1)?_c('div',{staticClass:\"operator-column offset \",class:_vm.model.operator,attrs:{\"d-flex\":\"\",\"align-center\":\"\"}},[_c('span',{staticClass:\"operator\",class:[{additional:g}, _vm.model.operator]},[_vm._v(_vm._s(_vm.operatingWord(_vm.model, g)))])]):_vm._e(),_c('v-flex',[_c('v-container',{staticClass:\"additional filter-group\",class:[{'pa-2': _vm.mini}, {'py-2 px-0':!_vm.mini}, group.operator]},[(group.filters)?[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"d-flex\":\"\",\"align-center\":\"\"}},[(_vm.mini)?[(group.filters.length > 1)?_c('div',{staticClass:\"description\"},[_vm._v(\"\\n                                        Match\\n                                        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(group.operator),expression:\"group.operator\"}],staticClass:\"select-operator\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(group, \"operator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"and\"}},[_vm._v(\"all\")]),_c('option',{attrs:{\"value\":\"or\"}},[_vm._v(\"any\")]),_c('option',{attrs:{\"value\":\"nor\"}},[_vm._v(\"none\")])]),_vm._v(\"\\n                                        of these conditions\\n                                    \")]):_c('div',{staticClass:\"description\"},[_vm._v(\"\\n                                        Match these conditions\\n                                    \")])]:[_c('div',[_c('h4',[_vm._v(\"Rule \"+_vm._s(g+1))]),(group.filters.length > 1)?_c('div',[_vm._v(\"\\n                                            Show items that match\\n                                            \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(group.operator),expression:\"group.operator\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(group, \"operator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"and\"}},[_vm._v(\"All\")]),_c('option',{attrs:{\"value\":\"or\"}},[_vm._v(\"Any\")]),_c('option',{attrs:{\"value\":\"nor\"}},[_vm._v(\"None\")])]),_vm._v(\" of these conditions\\n                                            \")]):_vm._e()])]],2),_c('v-spacer'),(_vm.mini)?[_c('div',{staticClass:\"hover\",staticStyle:{\"white-space\":\"nowrap\"}},[_c('v-btn',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"ma-0\",attrs:{\"small\":\"\",\"flat\":\"\",\"icon\":\"\",\"content\":\"Duplicate rule\",\"color\":\"grey\"},on:{\"click\":function($event){return _vm.duplicateEntry(_vm.model, g)}}},[_c('fluro-icon',{attrs:{\"icon\":\"copy\"}})],1),_c('v-btn',{directives:[{name:\"tippy\",rawName:\"v-tippy\"}],staticClass:\"ma-0\",attrs:{\"small\":\"\",\"flat\":\"\",\"icon\":\"\",\"content\":\"Remove rule\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.removeEntry(_vm.model, g)}}},[_c('fluro-icon',{attrs:{\"icon\":\"trash-alt\"}})],1)],1)]:[_c('div',{staticClass:\"hover\"},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"grey\",\"outline\":\"\"},on:{\"click\":function($event){return _vm.duplicateEntry(_vm.model, g)}}},[_c('span',{staticClass:\"btn-label\"},[_vm._v(\"Duplicate\")]),_c('fluro-icon',{attrs:{\"right\":\"\",\"icon\":\"copy\"}})],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"red\",\"outline\":\"\"},on:{\"click\":function($event){return _vm.removeEntry(_vm.model, g)}}},[_c('span',{staticClass:\"btn-label\"},[_vm._v(\"Duplicate\")]),_c('fluro-icon',{attrs:{\"right\":\"\",\"icon\":\"copy\"}})],1)],1)]],2),_vm._l((group.filters),function(filter,index){return _c('div',{key:filter.guid},[_c('v-layout',[(group.filters.length > 1)?_c('div',{staticClass:\"operator-column\",class:[group.operator],attrs:{\"d-flex\":\"\",\"align-center\":\"\"}},[_c('span',{staticClass:\"operator\",class:[{additional:index}, group.operator]},[_vm._v(_vm._s(_vm.operatingWord(group, index)))])]):_vm._e(),_c('v-flex',[_c('filter-condition-row',{attrs:{\"rows\":_vm.rows,\"loadingKeys\":_vm.loadingKeys,\"definition\":_vm.definition,\"fields\":_vm.availableKeys,\"mini\":_vm.mini},model:{value:(group.filters[index]),callback:function ($$v) {_vm.$set(group.filters, index, $$v)},expression:\"group.filters[index]\"}})],1),(group.filters.length > 1)?_c('div',[(_vm.mini)?[_c('v-btn',{staticClass:\"ma-0\",attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeEntry(group, index)}}},[_c('fluro-icon',{attrs:{\"icon\":\"times\"}})],1)]:[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeEntry(group, index)}}},[_c('fluro-icon',{attrs:{\"icon\":\"times\"}})],1)]],2):_vm._e()],1)],1)})]:_vm._e(),_c('v-btn',{staticClass:\"mx-0\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.addCondition(group)}}},[_vm._v(\"\\n                        Add Condition\\n                        \"),_c('fluro-icon',{attrs:{\"right\":\"\",\"icon\":\"plus\"}})],1)],2)],1)],1)}),(!_vm.limit)?_c('v-btn',{staticClass:\"mx-0\",attrs:{\"color\":\"white\"},on:{\"click\":function($event){return _vm.addRule(_vm.model)}}},[_vm._v(\"\\n            Add \"+_vm._s(_vm.model.filters.length ? 'Another' : '')+\" Rule\\n            \"),_c('fluro-icon',{attrs:{\"right\":\"\",\"icon\":\"plus\"}})],1):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterConditionGroup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterConditionGroup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterConditionGroup.vue?vue&type=template&id=020f5bdc&scoped=true&\"\nimport script from \"./FilterConditionGroup.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterConditionGroup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterConditionGroup.vue?vue&type=style&index=0&id=020f5bdc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"020f5bdc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!/Users/cadeembery/code/winner/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\ninstallComponents(component, {VBtn,VContainer,VFlex,VLayout,VSpacer})\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterConditionGroup.vue?vue&type=style&index=0&id=020f5bdc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterConditionGroup.vue?vue&type=style&index=0&id=020f5bdc&scoped=true&lang=scss&\"","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n"],"sourceRoot":""}